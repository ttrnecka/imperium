(function(t){function e(e){for(var s,r,c=e[0],o=e[1],l=e[2],u=0,_=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&_.push(i[r][0]),i[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);d&&d(e);while(_.length)_.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,c=1;c<a.length;c++){var o=a[c];0!==i[o]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=o;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},3164:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=a("bc3a"),n=a.n(i),r=a("a7fe"),c=a.n(r),o=(a("4989"),a("5f5b")),l=a("1157"),d=a.n(l),u=a("339e"),_=a.n(u),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("imperium-navbar",{attrs:{default:t.menu},on:{"menu-change":t.setMenu}}),a("div",{staticClass:"container-fluid pt-2"},[a("flash-message",{staticClass:"flashpool",attrs:{transitionIn:"animated swing"}}),"Coaches"==t.menu?a("coach-content"):t._e(),"Tournaments"==t.menu?a("tournament-content"):t._e(),"Leaderboard"==t.menu?a("leaderboard-content"):t._e(),a("signup-modal",{ref:"signupModal"})],1)],1)},h=[],f=a("5530"),p=a("2f62"),v=(a("a4d3"),a("e01a"),a("99af"),a("4de4"),a("4160"),a("caad"),a("c975"),a("a15b"),a("d81d"),a("13d5"),a("b0c0"),a("4d63"),a("ac1f"),a("25f0"),a("2532"),a("466d"),a("5319"),a("1276"),a("159b"),{data:function(){return{rarityorder:{Starter:10,Common:9,Rare:8,Epic:7,Inducement:6,Blessed:5,Cursed:4,Legendary:2,Unique:1},mixed_teams:[{idraces:38,code:"aog",tier_tax:0,name:"Alliance of Goodness",races:["Bretonnian","Human","Dwarf","Halfling","Wood Elf"]},{idraces:42,code:"au",tier_tax:0,name:"Afterlife United",races:["Undead","Necromantic","Khemri","Vampire"]},{idraces:37,code:"afs",tier_tax:0,name:"Anti-Fur Society",races:["Kislev","Norse","Amazon","Lizardman"]},{idraces:34,code:"cgs",tier_tax:0,name:"Chaos Gods Selection",races:["Chaos","Nurgle"]},{idraces:33,code:"cpp",tier_tax:0,name:"Chaotic Player Pact",races:["Chaos","Skaven","Dark Elf","Underworld"]},{idraces:36,code:"egc",tier_tax:0,name:"Elfic Grand Coalition",races:["High Elf","Dark Elf","Wood Elf","Pro Elf"]},{idraces:35,code:"fea",tier_tax:0,name:"Far East Association",races:["Chaos Dwarf","Orc","Goblin","Skaven","Ogre"]},{idraces:39,code:"hl",tier_tax:0,name:"Human League",races:["Bretonnian","Human","Kislev","Norse","Amazon"]},{idraces:32,code:"sbr",tier_tax:0,name:"Superior Being Ring",races:["Bretonnian","High Elf","Vampire","Chaos Dwarf"]},{idraces:41,code:"uosp",tier_tax:0,name:"Union of Small People",races:["Ogre","Goblin","Halfling"]},{idraces:40,code:"vt",tier_tax:0,name:"Violence Together",races:["Ogre","Goblin","Orc","Lizardman"]}],skill_groups:["G","A","P","S","M"],skills:{G:["Dauntless","Dirty Player","Fend","Kick-Off Return","Pass Block","Shadowing","Tackle","Wrestle","Block","Frenzy","Kick","Pro","Strip Ball","Sure Hands"],A:["Catch","Diving Catch","Diving Tackle","Jump Up","Leap","Sidestep","SideStep","Sneaky Git","Sprint","Dodge","Sure Feet"],P:["Accurate","Dump-Off","Hail Mary Pass","Nerves of Steel","Pass","Safe Throw","Leader"],S:["Break Tackle","Grab","Juggernaut","Multiple Block","Piling On","Stand Firm","Strong Arm","Thick Skull","Guard","Mighty Blow"],M:["Big Hand","Disturbing Presence","Extra Arms","Foul Appearance","Horns","Prehensile Tail","Tentacles","Two Heads","Very Long Legs","Claw"]},skillreg:/(Diving Catch|Kick-Off Return|Safe Throw|Shadowing|Disturbing Presence|Sneaky Git|Horns|Guard|Mighty Blow|ST\+|\+ST|MA\+|\+MA|AG\+|\+AG|AV\+|\+AV|Block|Accurate|Strong Arm|Dodge|Juggernaut|Claw|Sure Feet|Break Tackle|Jump Up|Two Heads|Wrestle|Frenzy|Multiple Block|Tentacles|Pro|Strip Ball|Sure Hands|Stand Firm|Grab|Hail Mary Pass|Dirty Player|Extra Arms|Foul Appearance|Dauntless|Thick Skull|Tackle|Nerves of Steel|Catch|Pass Block|Piling On|Pass|Fend|Sprint|Grab|Kick|Pass Block|Leap|Sprint|Leader|Diving Tackle|Tentacles|Prehensile Tail|Sidestep|Dump-Off|Big Hand|Very Long Legs)( |,|\.|$)/g,injuryreg:/(Smashed Knee|Damaged Back|Niggle|Smashed Ankle|Smashed Hip|Serious Concussion|Fractured Skull|Broken Neck|Smashed Collarbone)( |,|\.|$)/g}},methods:{has_keyword:function(t,e){var a=new RegExp("\\*\\*".concat(e,"\\*\\*"),"i");return null!==a.exec(t.template.description)},skill_access_for:function(t){var e=this,a=t.template.skill_access.split(""),s=a.map((function(t){return e.skills[t]}));return Array.prototype.concat.apply([],s)},is_skill_double:function(t,e){return!!this.skill_to_group_map[e]&&!(t.template.skill_access.indexOf(this.skill_to_group_map[e])>-1)},is_locked:function(t){return t.in_development_deck||t.in_imperium_deck},number_of_assignments:function(t){return"Bodyguard"===t.template.name?1:"Hired Muscle"===t.template.name?2:"Personal Army"===t.template.name?3:"Training"!==t.template.card_type?0:"Super Wildcard"===t.template.name?3:t.template.description.match(/ one /)?1:t.template.description.match(/ three /)?3:1},skill_names_for_player_card:function(t){var e,a=this;if("Player"!==t.template.card_type)return[];e=["Unique","Legendary","Inducement","Blessed","Cursed"].includes(t.template.rarity)?t.template.description:t.template.name;var s,i=[];s=this.skillreg.exec(e);while(s)s.input.match("Pro Elf")&&"Pro"===s[1]||(s[1]?i.push(s[1]):s[2]&&i.push(s[2])),this.skillreg.lastIndex===s.index&&(this.skillreg.lastIndex+=1),s=this.skillreg.exec(e);return i.map((function(t){return a.skill_to_api_skill(t)}))},default_skills_for_player:function(t){var e=this;if(t.default_skills){var a=t.default_skills.map((function(t){return e.skill_to_api_skill(t)}));return a}return[]},skills_for_player:function(t){var e=this,a=this.default_skills_for_player(t).concat(this.skill_names_for_player_card(t));return a.map((function(t){return e.imgs_for_skill(t)})).join("")},skills_for:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("Player"===t.template.card_type)return this.skills_for_player(t);if(["Special Play","Staff","Upgrade","Reaction"].includes(t.template.card_type))return this.skills_for_special_and_staff(t);var s=this.skill_names_for(t),i=s.map((function(t){return e.imgs_for_skill(t,a)}));return i.join("")},imgs_for_skill:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.skill_to_api_skill(t),s="https://cdn2.rebbl.net/images/skills/",i=e?"skill_double":"skill_single";return'<img class="skill_icon "'.concat(i,'" src="').concat(s+a,'.png" title="').concat(t,'"></img>')},skill_to_api_skill:function(t){var e;switch(t){case"Strength Up!":case"ST+":case"+ST":e="IncreaseStrength";break;case"Agility Up!":case"AG+":case"+AG":e="IncreaseAgility";break;case"Movement Up!":case"MA+":case"+MA":e="IncreaseMovement";break;case"Armour Up!":case"AV+":case"+AV":e="IncreaseArmour";break;case"Nerves of Steel":e="NervesOfSteel";break;case"Sidestep":e="SideStep";break;case"Mutant Roshi's Scare School":return"";default:e=t.replace(/[\s-]/g,"")}return e},cardsValue:function(t){return t.reduce((function(t,e){return e.is_starter?t+0:t+e.template.value}),0)},injury_to_api_injury:function(t){var e;switch(t){case"Smashed Collarbone":e="SmashedCollarBone";break;default:e=t.replace(/[\s-]/g,"")}return e},injury_names_for_player_card:function(t){var e,a=this;if("Player"!==t.template.card_type)return t.template.name;e=["Unique","Legendary","Inducement","Blessed","Cursed"].includes(t.template.rarity)?t.template.description:t.template.name;var s,i=[];s=this.injuryreg.exec(e);while(s)s[1]?i.push(s[1]):s[2]&&i.push(s[2]),this.injuryreg.lastIndex===s.index&&(this.injuryreg.lastIndex+=1),s=this.injuryreg.exec(e);return i.map((function(t){return a.injury_to_api_injury(t)}))},skills_for_special_and_staff:function(t){var e=this;if(!["Special Play","Staff","Upgrade","Reaction"].includes(t.template.card_type))return t.template.name;var a,s=t.template.description,i=[];a=this.skillreg.exec(s);while(a)"The Apple Pie Killer"===t.template.name&&"Block"===a[1]||a.input.match("Pro Elf")&&"Pro"===a[1]||(a[1]?i.push(a[1]):a[2]&&i.push(a[2])),this.skillreg.lastIndex===a.index&&(this.skillreg.lastIndex+=1),a=this.skillreg.exec(s);return i.map((function(t){return e.imgs_for_skill(t)})).join("")},skill_names_for:function(t){var e=[];switch(t.template.name){case"Block Party":e=["Block"];break;case"Dodge like a Honeybadger, Sting like the Floor":e=["Tackle"];break;case"Gengar Mode":e=["DirtyPlayer"];break;case"Roger Dodger":e=["Dodge"];break;case"Packing a Punch":e=["MightyBlow"];break;case"Ballhawk":e=["Wrestle","Tackle","StripBall"];break;case"Roadblock":e=["Block","Dodge","StandFirm"];break;case"Cold-Blooded Killer":e=["MightyBlow","PilingOn"];break;case"Sniper":e=["Accurate","StrongArm"];break;case"A Real Nuisance":e=["SideStep","DivingTackle"];break;case"Insect DNA":e=["TwoHeads","ExtraArms"];break;case"Super Wildcard":e=["MVPCondition"];break;case"I Didn't Read The Rules":e=["MVPCondition","MVPCondition","MVPCondition"];break;case"Counterfeit Skill Shop":e=["DivingTackle"];break;case"Laying the Smackdown":e=["Wrestle"];break;case"Need for Speed":e=["IncreaseMovement"];break;case"The Great Wall":e=["Guard"];break;case"Tubthumping":e=["PilingOn","JumpUp","Dauntless"];break;case"Training Wildcard":e=["MVPCondition2"];break;case"Sidestep":e=["SideStep"];break;case"Crowd Pleaser":e=["Frenzy","Juggernaut"];break;case"Designated Ball Carrier":e=["Block","SureHands"];break;case"Bodyguard":case"Hired Muscle":case"Personal Army":case"Mutant Roshi's Scare School":e=[];break;default:e=[t.template.name]}return e},dust:function(t,e){var a,s,i=this;a=e?"/duster/".concat(t,"/").concat(e.id):"/duster/".concat(t),this.processing=!0,this.axios.get(a).then((function(a){if("add"===t)s="Card ".concat(e.template.name," flagged for dusting");else if("remove"===t)s="Card ".concat(e.template.name," - dusting flag removed");else if("cancel"===t)s="Dusting cancelled";else if("commit"===t){var n="Tryouts"===a.data.type?"!genpack player <type>":"!genpack training or !genpack special";s="Dusting committed! Use ".concat(n," to generate a free pack!"),i.getCoach(i.loggedCoach.id)}i.loggedCoach.duster=a.data,i.flash(s,"success",{timeout:3e3})})).catch((function(t){t.response?i.flash(t.response.data.message,"error",{timeout:3e3}):console.error(t)})).then((function(){i.processing=!1}))},dust_cancel:function(){this.dust("cancel")},dust_commit:function(){this.dust("commit")},dust_add:function(t){this.dust("add",t)},dust_remove:function(t){this.dust("remove",t)},card_id_or_uuid:function(t){return t.id?String(t.id):String(t.uuid)},injuryPickerOpened:function(t){return!t.cas_pick},isEnabled:function(t){return!this.deck.id||""===this.deck.disabled_cards||!this.deck.disabled_cards.includes(this.card_id_or_uuid(t))},get_card_assignment:function(t){return this.deck.id&&t.assigned_to_array[this.deck.id]?t.assigned_to_array[this.deck.id]:[]},assigned_cards:function(t){var e=this;return this.cards.filter((function(a){return e.get_card_assignment(a).includes(e.card_id_or_uuid(t))}))}},computed:{skill_to_group_map:function(){var t=this,e={};return this.skill_groups.forEach((function(a){t.skills[a].forEach((function(t){e[t]=a})),t.skills[a].forEach((function(t){e[t.replace(/[\s-]/g,"")]=a}))})),e}}}),g={data:function(){return{}},methods:{signin:function(){var t="/signin";this.axios.get(t).catch((function(t){console.error(t)}))},signout:function(){var t="/signout";this.axios.get(t).catch((function(t){console.error(t)}))}},computed:{}},b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade signup",attrs:{id:"signup_modal",tabindex:"-1",role:"dialog","aria-labelledby":"signup_modal","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t.is_user?t._e():a("h4",{staticClass:"modal-title"},[t._v("Authenticate")]),t.is_user&&!t.is_coach?a("h4",{staticClass:"modal-title"},[t._v("New Coach")]):t._e(),t.is_active?a("h4",{staticClass:"modal-title"},[t._v("Done")]):t._e(),t.is_coach&&!t.is_active?a("h4",{staticClass:"modal-title"},[t._v("Sign back")]):t._e(),t.migration_on?a("confirmation-button",{attrs:{messages:["Confirm","Are you sure?","I will accept no complaints! Ok?","You done goofed!"]},on:{"confirmation-success":function(e){return t.activate()}}},[t._v("Confirm")]):t._e()],1),a("div",{staticClass:"modal-body"},[t.is_user?t._e():[t._m(0)],t.is_user&&!t.is_coach?[a("h5",[t._v("Welcome to REBBL Imperium!")]),a("p",[t._v("We are not sure how it is possible that you have not played Imperium yet!!! To fix that "),a("a",{attrs:{href:"#"},on:{click:function(e){return t.newCoach()}}},[t._v("initialize")]),t._v(" your Imperium coach account please!")])]:t._e(),t.is_active?[t.migrated?a("h5",[t._v("Coach account has been succefully migrated!")]):a("h5",[t._v("Coach account has been succefully initialized!")]),t._m(1),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[t._v("Close")])]:t._e(),t.is_coach&&!t.is_active?[a("h5",[t._v("Welcome back to REBBL Imperium!")]),a("p",[t._v("Conclave is waiting for you to curse or bless you. As returning coach you can migrate some cards from previous season.")]),t.migration_on?t._e():a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.migrate()}}},[t._v("Migrate")])]:t._e(),t.migration_on?a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[t._m(2),a("card-list",{attrs:{id:"migrationCollection",cards:t.eligible_cards,owner:t.user.coach,starter:!1,quantity:!1,column_list:t.collection_colums},on:{"card-click":t.addToMigrationPack}})],1),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"row mt-1"},[t._m(3),a("div",{staticClass:"col-4"},[a("h5",[t._v("Cards "+t._s(t.pack_size)+"/"+t._s(t.max_cards))])]),a("div",{staticClass:"col-4"},[a("h5",[t._v("Value "+t._s(t.pack_value)+"/"+t._s(t.max_value))])])]),a("card-list",{attrs:{id:"migrationPack",cards:t.pack_cards.concat(t.uniques),owner:t.user.coach,starter:!1,quantity:!1,column_list:t.collection_colums},on:{"card-click":t.removeFromMigrationPack}})],1)]):t._e()],2)])])])},C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("To be able to use this site you need to "),a("a",{attrs:{href:"/signin"}},[t._v("Sign in")]),t._v(" using Discord credentials first!")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("Check your info tab for your initial bank balance and free pack. Then head to "),a("a",{attrs:{target:"_blank",href:"https://discord.gg/hdSQhRf"}},[t._v("Imperium Discord")]),t._v(" to generate your packs. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mt-1"},[a("div",{staticClass:"col-12"},[a("h5",[t._v("Eligible Cards")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-4"},[a("h5",[t._v("Migration Pack")])])}],k=(a("a434"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{class:["btn","btn-danger"],attrs:{type:"button",disabled:t.stepsComplete},on:{click:function(e){return t.incrementStep()}}},[t._v(" "+t._s(t.currentMessage)+" ")])}),y=[],x={name:"confirmation-button",data:function(){return{defaultSteps:["Click to confirm","Are you sure?","✔"],currentStep:0}},props:{messages:Array},computed:{messageList:function(){return this.messages?this.messages:this.defaultSteps},currentMessage:function(){return this.messageList[this.currentStep]},lastMessageIndex:function(){return this.messageList.length-1},stepsComplete:function(){return this.currentStep===this.lastMessageIndex}},methods:{incrementStep:function(){var t=this;this.timeout&&clearTimeout(this.timeout),this.currentStep+=1,this.stepsComplete?this.$emit("confirmation-success"):(this.$emit("confirmation-incremented"),this.timeout=setTimeout((function(){return t.reset()}),3e3))},reset:function(){this.currentStep=0,this.$emit("confirmation-reset")}}},w=x,S=a("2877"),P=Object(S["a"])(w,k,y,!1,null,null,null),T=P.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:t.id}},t._l(t.type_list,(function(e,s){return a("div",{key:s,staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{id:e.replace(/\s/g,"")+t.id}},[a("h5",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapse"+e.replace(/\s/g,""),"aria-expanded":"true","aria-controls":"collapse"+e.replace(/\s/g,"")}},[t._v(" "+t._s(e)+" Cards ("+t._s(t.number_of_cards(e))+") ")])])]),a("div",{staticClass:"collapse show",attrs:{id:"collapse"+e.replace(/\s/g,""),"aria-labelledby":e.replace(/\s/g,"")+t.id,"data-parent":"#"+t.id}},[a("div",{staticClass:"card-body table-responsive"},[a("table",{staticClass:"table  table-striped table-hover"},[a("thead",[a("tr",[t.should_diplay("Lock")?a("th",[a("i",{staticClass:"fas fa-lock",attrs:{title:"Locked in another tournament"}})]):t._e(),t.should_diplay("Rarity")?a("th",{staticStyle:{width:"10%"}},[t._v("Rarity")]):t._e(),t.should_diplay("Value")?a("th",{staticStyle:{width:"10%"}},[t._v("Value")]):t._e(),t.should_diplay("Name")?a("th",[t._v("Name")]):t._e(),t.should_diplay("Skills")?a("th",[t._v("Skills")]):t._e(),t.should_diplay("Race")?a("th",[t._v("Race")]):t._e(),t.should_diplay("Subtype")?a("th",{staticClass:"d-none d-sm-table-cell"},[t._v(" Subtype ")]):t._e(),t.quantity?a("th",{staticClass:"d-none d-sm-table-cell"},[t._v(" Quantity ")]):t._e(),t.quantity?a("th",{staticClass:"d-xs-table-cell d-sm-none"},[t._v(" Q ")]):t._e(),t.duster?a("th",{staticStyle:{width:"15%"}}):t._e(),t.isDeck?a("th"):t._e()])]),a("tbody",[t._l(t.sorted(e),(function(s){return[a("tr",{key:s.id,class:[t.rarityclass(s),t.extra_type(s.deck_type),"pointer"],attrs:{title:s.template.name,"data-toggle":"popover","data-placement":"top","data-html":"true","data-content":t.markdown.makeHtml(s.template.description)},on:{click:function(e){return t.$emit("card-click",s)}}},[t.should_diplay("Lock")?a("td",[t.is_locked(s)&&t.is_loggedcoach(t.owner.short_name)?a("i",{staticClass:"fas fa-lock"}):t._e()]):t._e(),t.should_diplay("Rarity")?a("td",[a("img",{staticClass:"rarity",attrs:{src:"static/images/"+s.template.rarity+".jpg",alt:s.template.rarity,title:s.template.rarity,width:"20",height:"25"}})]):t._e(),t.should_diplay("Value")?a("td",[t._v(t._s(s.template.value))]):t._e(),t.should_diplay("Name")?a("td",{attrs:{title:s.template.description}},[t._v(t._s(s.template.name))]):t._e(),t.should_diplay("Skills")?a("td",[a("span",{domProps:{innerHTML:t._s(t.skills_for(s))}})]):t._e(),t.should_diplay("Race")?a("td",[t._v(t._s(s.template.race))]):t._e(),t.should_diplay("Subtype")?a("td",{staticClass:"d-none d-sm-table-cell"},[t._v(" "+t._s(s.template.subtype)+" ")]):t._e(),t.quantity?a("td",[t._v(t._s(s.quantity))]):t._e(),t.duster?a("td",{staticClass:"text-right"},[t.is_in_duster(s)?a("button",{staticClass:"col-12 btn btn-danger",attrs:{disabled:t.processing,type:"button"},on:{click:function(e){return e.stopPropagation(),t.dust_remove(s)}}},[t._v("Remove")]):a("button",{staticClass:"col-12 btn btn-success",attrs:{type:"button",disabled:t.processing},on:{click:function(e){return e.stopPropagation(),t.dust_add(s)}}},[t._v("Add")])]):t._e(),t.isDeck?a("th",{on:{click:function(t){t.stopPropagation()}}},[t.canEdit?[a("div",{staticClass:"float-right",attrs:{id:"player"+t.card_id_or_uuid(s)}},[a("i",{staticClass:"fas fa-cog fa-2x"})]),a("b-popover",{attrs:{target:"player"+t.card_id_or_uuid(s),triggers:"hover",placement:"left"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(s.template.name))]},proxy:!0}],null,!0)},[t.isEnabled(s)?a("b-button",{staticClass:"m-1",attrs:{variant:"danger"},on:{click:function(e){return t.$emit("card-disable",s)}}},[t._v("Disable")]):a("b-button",{staticClass:"m-1",attrs:{variant:"success"},on:{click:function(e){return t.$emit("card-enable",s)}}},[t._v("Enable")]),a("b-button",{staticClass:"m-1",attrs:{variant:"info"},on:{click:function(e){return t.$emit("card-unskill",s)}}},[t._v("Unskill")])],1)]:t._e()],2):t._e()]),t.isDeck?[t._l(t.number_of_assignments(s),(function(e,i){return a("tr",{key:"assignment"+i+t.card_id_or_uuid(s),class:[t.rarityclass(s)]},[a("td",{attrs:{colspan:t.column_list.length+1}},[a("select",{directives:[{name:"model",rawName:"v-model",value:s.assigned_to_array[t.deck.id][e-1],expression:"card.assigned_to_array[deck.id][idx-1]"}],staticClass:"form-control",attrs:{disabled:!t.canEdit},on:{click:function(t){t.stopPropagation()},change:[function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(s.assigned_to_array[t.deck.id],e-1,a.target.multiple?i:i[0])},function(a){return t.$emit("card-assign",s,e-1)}]}},[a("option",{attrs:{default:"",disabled:""},domProps:{value:void 0}},[t._v("Select Player")]),t._l(t.sortedCards(t.assignable_player_cards),(function(e,i){return a("option",{key:i,attrs:{disabled:!t.isEnabled(e)||t.assigned_cards(e).includes(s)},domProps:{value:t.card_id_or_uuid(e)}},[t._v(t._s(i+1)+". "+t._s(e.template.name))])}))],2)])])})),"Player"==e?a("tr",{key:"player"+t.card_id_or_uuid(s),class:[t.rarityclass(s)]},[t._m(0,!0),a("td",{attrs:{colspan:t.column_list.length-1}},[a("span",{domProps:{innerHTML:t._s(t.deck_skills_for(s))}}),t.is_guarded(s)?a("span",{attrs:{title:"No Special Play effects possible"}},[t._v("💪")]):t._e(),t.canEdit?[t.injuryPickerOpened(s)?a("img",{staticClass:"skill_icon skill_single pointer",attrs:{src:"https://cdn2.rebbl.net/images/skills/SmashedHand.png",title:"Add Injury"},on:{click:function(e){return t.openInjuryPicker(s)}}}):a("injury-picker",{on:{injured:function(e){return t.addInjury(s,e)}}})]:t._e()],2),a("td",[a("div",{staticClass:"float-right"},[a("b",[t._v("Doubles:")]),t._v(" "+t._s(t.doubles_count(s)))])])]):t._e()]:t._e()]}))],2)])])])])})),0)},A=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{attrs:{colspan:"1"}},[a("i",{staticClass:"fas fa-angle-double-right fa-2x"})])}],j=(a("7db0"),a("fb6a"),a("45fc"),a("b64b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_injury,expression:"selected_injury"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected_injury=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"DISABLED",disabled:"",selected:""}},[t._v("Injury?")]),a("option",{attrs:{value:""}},[t._v("Cancel")]),a("option",{attrs:{value:"X"}},[t._v("Reset")]),t._l(t.injuries,(function(e,s){return a("option",{key:s,attrs:{title:e[0]},domProps:{value:e[0]}},[t._v(t._s(e[0])+" ("+t._s(e[1])+")")])}))],2)])}),D=[],O={name:"injury-picker",data:function(){return{injuries:[["SmashedKnee","Niggle"],["DamagedBack","Niggle"],["SmashedAnkle","MA-"],["SmashedHip","MA-"],["SeriousConcussion","AV-"],["FracturedSkull","AV-"],["BrokenNeck","AG-"],["SmashedCollarBone","STR-"]],selected_injury:"DISABLED"}},watch:{selected_injury:function(t){this.$emit("injured",t)}}},$=O,B=Object(S["a"])($,j,D,!1,null,null,null),I=B.exports,M={name:"card-list",mixins:[v],components:{injuryPicker:I},props:{id:String,cards:Array,selected_team:{type:String,default:"All"},owner:Object,starter:{type:Boolean,default:!0},rarity_sort:{type:Boolean,default:!0},quantity:{type:Boolean,default:!1},duster:{type:Boolean,default:!1},edit:{type:Boolean,default:!1},type_list:{type:Array,default:function(){return["Player","Training","Special Play","Reaction","Staff","Upgrade"]}},column_list:{type:Array,default:function(){return["Lock","Rarity","Value","Name","Skills","Race","Subtype"]}},deck:{type:Object,default:function(){return{}}}},data:function(){return{processing:!1}},methods:{should_diplay:function(t){return this.column_list.includes(t)},sortedCardsWithQuantity:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e={},a=this.sortedCardsWithoutQuantity(t),s=0,i=a.length;s<i;s+=1){var n=a[s].template.name;Object.prototype.hasOwnProperty.call(e,n)?e[n].quantity+=1:(e[n]=Object.assign({},a[s]),e[n].quantity=1)}return e},sortedCardsWithoutQuantity:function(){var t,e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t=this.starter?this.cards:this.cards.filter((function(t){return!t.is_starter})),""!==a&&(t=t.filter((function(t){return t.template.card_type===a}))),"All"!==this.selected_team&&"Player"===a){var s=this.mixed_teams.find((function(t){return t.name===e.selected_team})),i=s.races;t=t.filter((function(t){return t.template.race.split("/").some((function(t){return i.includes(t)}))}))}return this.sortedCards(t)},sortedCards:function(t){if(!1===this.rarity_sort)return t;var e=this.rarityorder,a=this;function s(t,s){return e[t.template.rarity]-e[s.template.rarity]||t.template.name.localeCompare(s.template.name)||a.card_id_or_uuid(t).localeCompare(a.card_id_or_uuid(s))}return t.slice().sort(s)},rarityclass:function(t){var e;if(!this.isEnabled(t))return"table-secondary";switch(t.template.rarity){case"Common":case"Starter":e="table-light";break;case"Rare":e="table-info";break;case"Epic":e="table-danger";break;case"Legendary":e="table-warning";break;case"Unique":e="table-success";break;case"Inducement":case"Blessed":case"Cursed":e="table-inducement";break;default:e="table-light"}return e},extra_type:function(t){switch(t){case"base":case null:return"";default:return"extra_card"}},sorted:function(t){return this.quantity?this.sortedCardsWithQuantity(t):this.sortedCardsWithoutQuantity(t)},is_in_duster:function(t){return!!this.is_duster&&this.loggedCoach.duster.cards.includes(t.id)},is_guarded:function(t){var e=this;if("Player"!==t.template.card_type)return!1;var a=this.cards.filter((function(a){return e.get_card_assignment(a).includes(String(e.card_id_or_uuid(t)))}));return void 0!==a.find((function(t){return["Bodyguard","Hired Muscle","Personal Army"].includes(t.template.name)}))},deck_skills_for:function(t){var e=this,a=this.assigned_cards(t),s=this.player_injuries(t);return a.map((function(a){var s=!1,i=e.skill_names_for(a);return i.forEach((function(a){e.is_skill_double(t,a)&&(s=!0)})),e.skills_for(a,s)})).join("")+s.map((function(t){return e.imgs_for_skill(t)})).join("")},player_injuries:function(t){return this.assigned_injuries(t).concat(this.injury_names_for_player_card(t))},assigned_injuries:function(t){var e;return e=this.deck.injury_map[this.card_id_or_uuid(t)]?this.deck.injury_map[this.card_id_or_uuid(t)]:[],e},doubles_count:function(t){var e=this,a=this.cards.filter((function(a){return e.get_card_assignment(a).includes(String(e.card_id_or_uuid(t)))})),s=0;return a.forEach((function(a){if("extra"!==a.deck_type){var i=e.skill_names_for(a),n=0;i.forEach((function(a){e.is_skill_double(t,a)&&(n=1)})),s+=n}})),s},openInjuryPicker:function(t){t.cas_pick=!0,this.$forceUpdate()},addInjury:function(t,e){var a=this.card_id_or_uuid(t);this.deck.injury_map[a]||(this.deck.injury_map[a]=[]),""!==e&&"X"!==e&&this.deck.injury_map[a].push(e),t.cas_pick=!1,"X"===e?this.removeAllInjuries(t):this.$emit("update-deck")},removeAllInjuries:function(t){var e=this.card_id_or_uuid(t);this.deck.injury_map[e]=[],this.$emit("update-deck")},number_of_cards:function(t){var e=this;return this.cards.filter((function(a){return a.template.card_type===t&&(e.starter||!a.is_starter)&&e.isEnabled(a)})).length}},computed:Object(f["a"])({isDeck:function(){return 0!==Object.keys(this.deck).length},assignable_player_cards:function(){return this.player_cards.filter((function(t){return!["Legendary","Inducement","Unique","Blessed","Cursed"].includes(t.template.rarity)}))},player_cards:function(){return this.cards.filter((function(t){return"Player"===t.template.card_type}))},canEdit:function(){return this.is_loggedcoach(this.owner.short_name)&&this.edit}},Object(p["e"])(["user"]),{},Object(p["c"])(["is_loggedcoach","loggedCoach","is_duster"]))},R=M,N=(a("6f90"),Object(S["a"])(R,E,A,!1,null,"16026286",null)),z=N.exports,L={name:"signup-modal",mixins:[g],components:{"confirmation-button":T,cardList:z},data:function(){return{processing:!1,old_cards:[],pack_cards:[],migration_on:!1,selected_team:"All",max_value:35,max_cards:5,max_legends:1,migrated:!1,collection_colums:["Rarity","Value","Name","Skills","Race","Subtype"]}},methods:{newCoach:function(){var t=this,e="/coaches",a=this.flash("Initializing coach...","info");this.axios.post(e).then((function(e){t.$parent.$emit("signedUpCoach",e.data)})).catch(this.async_error).then((function(){a.destroy()}))},pull_inactive_cards:function(){var t=this,e="/coaches/".concat(this.user.coach.id,"/cards/inactive"),a=this.flash("Getting last season cards...","info");this.axios.get(e).then((function(e){t.old_cards=e.data})).catch(this.async_error).then((function(){a.destroy()}))},async_error:function(t){if(t.response){var e=t.response.data.message?t.response.data.message:"Unknown error: ".concat(t.response.status);this.flash(e,"error",{timeout:3e3})}else console.error(t)},modal:function(){return this.$("#signup_modal")},open:function(){this.modal().modal({show:!0,backdrop:"static",keyboard:!1})},close:function(){this.modal().modal("hide")},migrate:function(){this.pull_inactive_cards(),this.migration_on=!0},activate:function(){var t=this,e="/coaches/".concat(this.user.coach.id,"/activate"),a=this.flash("Activating coach...","info");this.axios.put(e,{card_ids:this.to_migrate}).then((function(e){t.$parent.$emit("signedUpCoach",e.data),t.migration_on=!1,t.migrated=!0})).catch(this.async_error).then((function(){a.destroy()}))},addToMigrationPack:function(t){if(this.canAdd(t)){this.pack_cards.push(t);var e=this.old_cards.indexOf(t);this.old_cards.splice(e,1)}},removeFromMigrationPack:function(t){if(this.canRemove(t)){this.old_cards.push(t);var e=this.pack_cards.indexOf(t);this.pack_cards.splice(e,1)}},canRemove:function(t){return!this.uniques.includes(t)},canAdd:function(t){return this.pack_value+t.template.value>this.max_value?(this.flash("Cannot add card. Max value limit is ".concat(this.max_value,"!"),"error",{timeout:3e3}),!1):this.pack_size+1>this.max_cards?(this.flash("Cannot add card. Max card limit is ".concat(this.max_cards,"!"),"error",{timeout:3e3}),!1):"Legendary"!==t.template.rarity||this.pack_cards.filter((function(t){return"Legendary"===t.template.rarity})).length!==this.max_legends||(this.flash("Cannot add card. Max Legendary limit is ".concat(this.max_legends,"!"),"error",{timeout:3e3}),!1)}},computed:Object(f["a"])({is_user:function(){return!!this.user.id},is_coach:function(){return!(!this.user.coach||!this.user.coach.id)},is_active:function(){return!(!this.is_coach||!1!==this.user.coach.deleted)},eligible_cards:function(){return this.old_cards.filter((function(t){return!t.is_starter&&"Unique"!==t.template.rarity}))},uniques:function(){return this.old_cards.filter((function(t){return"Unique"===t.template.rarity&&"Beta Prepared"!==t.template.name}))},pack_size:function(){return this.pack_cards.length},pack_value:function(){return this.pack_cards.reduce((function(t,e){return t+e.template.value}),0)},to_migrate:function(){return this.pack_cards.concat(this.uniques).map((function(t){return t.id}))}},Object(p["e"])(["user"]))},F=L,U=Object(S["a"])(F,b,C,!1,null,null,null),G=U.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-dark fixed-top bg-dark navbar-expand-md"},[a("div",{staticClass:"container-fluid"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"},on:{click:function(e){return t.setMenu(t.options[0])}}},[a("img",{staticClass:"d-inline-block align-top",attrs:{src:"/static/images/Imperium.jpg",width:"24",alt:""}}),a("div",{staticClass:"d-inline-block pl-2"},[t._v(" REBBL Imperium")])]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[t._l(t.options,(function(e){return a("li",{key:e.value,staticClass:"nav-item",class:{active:t.menu==e.value}},[a("a",{staticClass:"nav-link",attrs:{href:e.link},on:{click:function(a){return t.setMenu(e)}}},[t._v(t._s(e.value))])])})),t._m(1),t.user.username?a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link dropdown-toggle ml-auto",attrs:{href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" Rules ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdown"}},t._l(t.rules,(function(e){return a("a",{key:e.value,staticClass:"dropdown-item",attrs:{target:"_blank",href:e.link}},[t._v(t._s(e.value))])})),0)]):t._e(),t._m(2)],2),a("ul",{staticClass:"navbar-nav"},[t.user.username?a("li",{staticClass:"nav-item"},[a("img",{staticClass:"ml-2 avatar",attrs:{src:"https://cdn.discordapp.com/avatars/"+t.user.id+"/"+t.user.avatar+".png"}})]):t._e(),t.user.username?a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link dropdown-toggle ml-auto",attrs:{href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" Profile ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdown"}},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v(t._s(t.user.username))]),a("a",{staticClass:"dropdown-item",attrs:{href:"/signout"}},[t._v("Signout")])])]):a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"/signin"}},[t._v("Signin")])])])])])])},q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{target:"_blank",title:"Only to get us wasted, not for buying packs!!!",href:"https://www.paypal.me/rebblimperium"}},[a("div",{staticClass:"d-inline-block"},[t._v("🍻 Beer Fund")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{target:"_blank",title:"Discord",href:"https://discord.gg/hdSQhRf"}},[a("div",{staticClass:"d-inline-block"},[a("i",{staticClass:"fab fa-discord",attrs:{title:"Discord"}})])])])}],V={name:"imperium-navbar",mixins:[g],props:{default:String},data:function(){return{menu:"",options:[{value:"Coaches",link:"#"},{value:"Tournaments",link:"#"},{value:"Leaderboard",link:"#"}],rules:[{value:"Main",link:"https://bit.ly/2P9Y07F"},{value:"Special Play Almanac",link:"https://bit.ly/38aQyRB"},{value:"Tournament Sponsor Almanac",link:"https://bit.ly/2wkrZnN"},{value:"Imperium Tournament Almanac",link:"https://bit.ly/2PxTMIr"},{value:"Key Cards",link:"https://bit.ly/32J9oOE"},{value:"Inducements",link:"https://bit.ly/2PDlHX9"}]}},methods:{setMenu:function(t){this.menu=t.value,this.$emit("menu-change",t.value)}},computed:Object(f["a"])({},Object(p["e"])(["user"])),created:function(){this.default&&(this.menu=this.default)}},K=V,W=Object(S["a"])(K,H,q,!1,null,null,null),Q=W.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-auto"},[a("div",{staticClass:"form-group"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"coach_filter",placeholder:"Search..."},domProps:{value:t.coach_filter},on:{input:function(e){return t.debounceCoachSearch(e.target.value)}}})]),a("div",{staticClass:"list-group",attrs:{id:"coach-list",role:"tablist"}},t._l(t.filteredCoaches,(function(e){return a("a",{key:e.id,staticClass:"list-group-item list-group-item-action",class:{active:e.short_name==t.selectedCoach.short_name},attrs:{"data-toggle":"list",href:"#coachDisplay",role:"tab","aria-controls":"home"},on:{click:function(a){return t.getCoach(e.id)}}},[t._v(t._s(e.short_name))])})),0)]),a("div",{staticClass:"col-lg-8"},[a("div",{staticClass:"tab-content show",attrs:{id:"nav-tabContent"}},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"coachDisplay",role:"tabpanel","aria-labelledby":"coach"}},[a("ul",{staticClass:"nav nav-tabs",attrs:{id:"coachTab",role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{id:"cards-tab","data-toggle":"tab",href:"#coach_cards",role:"tab","aria-controls":"coach_cards"}},[t._v(" "+t._s(t.selectedCoach.short_name)+"'s Cards ")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{id:"info-tab","data-toggle":"tab",href:"#coach_info",role:"tab","aria-controls":"coach_info","aria-selected":"true"}},[t._v(" "+t._s(t.selectedCoach.short_name)+"'s Info ")])]),t.is_owner(t.selectedCoach)?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{id:"dusting-tab","data-toggle":"tab",href:"#coach_dusting",role:"tab","aria-controls":"coach_dusting","aria-selected":"false"}},[t._v("Dusting")])]):t._e(),t._m(0),t._m(1)]),a("div",{staticClass:"tab-content",attrs:{id:"coachTabContent"}},[a("div",{staticClass:"tab-pane fade",attrs:{id:"coach_info",role:"tabpanel","aria-labelledby":"info-tab"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("h5",{staticClass:"coach_info"},[t._v(" Bank: "),a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.selectedCoach.account.amount)+" coins ")])])]),t._m(2),a("div",{staticClass:"col-3"},[t.is_webadmin?a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCoach.bb2_name,expression:"selectedCoach.bb2_name"}],staticClass:"form-control col-11 coach_info",attrs:{id:"bb2_name"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.selectedCoach,"bb2_name",e.target.multiple?a:a[0])},function(e){return t.linkBB2Name()}]}},[a("option",{attrs:{selected:"",value:""}},[t._v("None")]),t._l(t.bb2Names,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2)]):a("div",[a("h5",{staticClass:"coach_info"},[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.selectedCoach.bb2_name)+" ")])])])]),a("div",{staticClass:"col-12"},[a("h5",{staticClass:"coach_info"},[t._v(" Free Packs: "),a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getFreePacks(t.selectedCoach))+" ")])])]),a("div",{staticClass:"tab-content show col-12",attrs:{id:"accordionTournamentsCoach"}},[a("h5",{staticClass:"coach_info"},[t._v("Tournaments:")]),t._l(t.tournamentsFor(t.selectedCoach),(function(e){return a("tournament",{key:e.tournament_id,attrs:{id:"tourn"+e.tournament_id+"coach",role:"tabpanel","aria-labelledby":"tournament",tournament:e,coaches:t.coaches,"data-parent":"#accordionTournamentsCoach",user:t.user}})}))],2),a("div",{staticClass:"col-12"},[a("h5",{staticClass:"coach_info"},[t._v("Transactions:")]),a("table",{staticClass:"table table-striped"},[t._m(3),a("tbody",t._l(t.selectedCoach.account.transactions.slice(),(function(e){return a("tr",{key:e.id},[a("td",[t._v(" "+t._s(t.print_date(e.date_confirmed))+" ")]),a("td",[t._v(t._s(-1*e.price))]),a("td",[t._v(t._s(e.description))])])})),0)])])])]),a("div",{staticClass:"tab-pane fade show active",attrs:{id:"coach_cards",role:"tabpanel","aria-labelledby":"cards-tab"}},[a("div",{staticClass:"col-auto my-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"mixed_team_select"}},[t._v("Select team:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_team,expression:"selected_team"}],staticClass:"form-control",attrs:{id:"mixed_team"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected_team=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",value:"All"}},[t._v("All")]),t._l(t.mixed_teams,(function(e){return a("option",{key:e.code,domProps:{value:e.name}},[t._v(" "+t._s(e.name)+" ("+t._s(e.races.join())+") ")])}))],2)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("h5",[t._v(" Collection value: "+t._s(t.cardsValue(t.selectedCoach.cards))+" ")])]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"custom-control custom-checkbox mr-sm-2 text-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.starter,expression:"starter"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"sptoggle"},domProps:{checked:Array.isArray(t.starter)?t._i(t.starter,null)>-1:t.starter},on:{change:function(e){var a=t.starter,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=null,r=t._i(a,n);s.checked?r<0&&(t.starter=a.concat([n])):r>-1&&(t.starter=a.slice(0,r).concat(a.slice(r+1)))}else t.starter=i}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"sptoggle"}},[t._v("Toggle Starter Pack")])])])]),a("card-list",{attrs:{id:"accordionCards",cards:t.selectedCoach.cards,selected_team:t.selected_team,owner:t.selectedCoach,starter:t.starter,quantity:!0}})],1)]),t.is_owner(t.selectedCoach)?a("div",{staticClass:"tab-pane fade",attrs:{id:"coach_dusting",role:"tabpanel","aria-labelledby":"dusting-tab"}},[a("div",{staticClass:"col-auto my-1"},[a("div",{staticClass:"row duster_info"},[a("div",{staticClass:"col-9 col-md-6"},[a("h4",[t._v(t._s(t.duster_type))])]),a("div",{staticClass:"col-3 col-md-6 text-right"},[t.is_duster_open?a("button",{staticClass:"btn btn-info",attrs:{type:"button",disabled:t.processing},on:{click:function(e){return t.dust_cancel()}}},[t._v("Cancel")]):t._e(),t.is_duster_full?a("button",{staticClass:"btn btn-info",attrs:{disabled:t.processing,type:"button"},on:{click:function(e){return t.dust_commit()}}},[t._v("Commit")]):t._e()])]),a("card-list",{attrs:{id:"accordionCardsDusting",cards:t.selectedCoach.cards,owner:t.selectedCoach,starter:!1,duster:!0}})],1)]):t._e(),a("div",{staticClass:"tab-pane fade",attrs:{id:"coach_achievements",role:"tabpanel","aria-labelledby":"coach-achievements"}},[a("div",{staticClass:"col-auto my-1"},[t._m(4),t._m(5),t._l(t.quest_achievements(t.selectedCoach),(function(t,e){return a("imperium-achievement",{key:"quest"+e,attrs:{data:t,hidden:!0}})})),t._m(6),t._l(t.conclave_achievements(t.selectedCoach),(function(t,e){return a("imperium-achievement",{key:"conclave"+e,attrs:{data:t}})})),t._m(7),t._l(t.match_achievements(t.selectedCoach),(function(t,e){return a("imperium-achievement",{key:"match_ach"+e,attrs:{data:t}})})),t._m(8),t._l(t.team_achievements(t.selectedCoach),(function(e,s){return[a("div",{key:s,staticClass:"row"},[a("h6",{staticClass:"col-12"},[t._v(t._s(e.team_name))])]),t._l(["played","touchdowns","casualties","kills","passes","wins"],(function(i){return[t._l([1,2,3],(function(t){return[a("imperium-achievement",{key:""+s+i+t,attrs:{data:e.achievements[i][t]}})]}))]}))]}))],2)]),a("div",{staticClass:"tab-pane fade",attrs:{id:"coach_stats",role:"tabpanel","aria-labelledby":"coach-stats"}},[a("div",{staticClass:"col-auto my-1"},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"coachStatsDisplay",role:"tabpanel","aria-labelledby":"coachStats"}},[a("ul",{staticClass:"nav nav-tabs",attrs:{id:"coachStatsTab",role:"tablist"}},[t._m(9),t._l(t.team_stats(t.selectedCoach),(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{id:"stats-tab"+s,"data-toggle":"tab",href:"#stats_"+s,role:"tab","aria-controls":"stats_team"}},[t._v(t._s(e.team_name))])])}))],2),a("div",{staticClass:"tab-content",attrs:{id:"coachStatsTabContent"}},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"stats_summary",role:"tabpanel","aria-labelledby":"stats-summary-tab"}},[a("div",{staticClass:"row mt-2"},[t._m(10),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"wins")))])])]),t._m(11),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"draws")))])])]),t._m(12),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"losses")))])])]),t._m(13),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"matches")))])])]),t._m(14),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"points")))])])]),t._m(15),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s((t.getStat(t.selectedCoach,"points")/t.getStat(t.selectedCoach,"matches")).toFixed(2))+" ")])])]),t._m(16),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflictedtackles")))])])]),t._m(17),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflictedinjuries")))])])]),t._m(18),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflictedko")))])])]),t._m(19),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflictedcasualties")))])])]),t._m(20),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflicteddead")))])])]),t._m(21),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s((t.getStat(t.selectedCoach,"inflictedtackles")/t.getStat(t.selectedCoach,"matches")).toFixed(2))+" ")])])]),t._m(22),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflictedtouchdowns")))])])]),t._m(23),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflictedpasses")))])])]),t._m(24),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflictedmeterspassing")))])])]),t._m(25),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflictedmetersrunning")))])])]),t._m(26),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflictedinterceptions")))])])]),t._m(27),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s((t.getStat(t.selectedCoach,"inflictedtouchdowns")/t.getStat(t.selectedCoach,"matches")).toFixed(2))+" ")])])])])]),t._l(t.team_stats(t.selectedCoach),(function(e,s){return a("div",{key:s,staticClass:"tab-pane fade",attrs:{id:"stats_"+s,role:"tabpanel","aria-labelledby":"stats-team-tab"}},[a("div",{staticClass:"row mt-2"},[t._m(28,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"wins")))])])]),t._m(29,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"draws")))])])]),t._m(30,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"losses")))])])]),t._m(31,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"matches")))])])]),t._m(32,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"points")))])])]),t._m(33,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s((t.getTeamStat(e,"points")/t.getTeamStat(e,"matches")).toFixed(2))+" ")])])]),t._m(34,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflictedtackles")))])])]),t._m(35,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflictedinjuries")))])])]),t._m(36,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflictedko")))])])]),t._m(37,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflictedcasualties")))])])]),t._m(38,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflicteddead")))])])]),t._m(39,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s((t.getTeamStat(e,"inflictedtackles")/t.getTeamStat(e,"matches")).toFixed(2))+" ")])])]),t._m(40,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflictedtouchdowns")))])])]),t._m(41,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflictedpasses")))])])]),t._m(42,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflictedmeterspassing")))])])]),t._m(43,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflictedmetersrunning")))])])]),t._m(44,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflictedinterceptions")))])])]),t._m(45,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s((t.getTeamStat(e,"inflictedtouchdowns")/t.getTeamStat(e,"matches")).toFixed(2))+" ")])])])])])}))],2)])])])])])])])])},Y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{id:"stats-tab","data-toggle":"tab",href:"#coach_stats",role:"tab","aria-controls":"coach_stats","aria-selected":"false"}},[t._v("Stats")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{id:"stats-tab","data-toggle":"tab",href:"#coach_achievements",role:"tab","aria-controls":"coach_achievements","aria-selected":"false"}},[t._v("Achievements")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3 text-right"},[a("h5",{staticClass:"coach_info"},[t._v("BB2 Name:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"th-lg"},[t._v("Date")]),a("th",{staticClass:"th-lg"},[t._v("Bank Change")]),a("th",{staticClass:"th-lg"},[t._v("Description")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("h4",{staticClass:"col-12"},[t._v("Achievements")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("h5",{staticClass:"col-12"},[t._v("Hidden Quests")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("h5",{staticClass:"col-12"},[t._v("Conclave Achievements")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("h5",{staticClass:"col-12"},[t._v("Match Achievements (Any Team)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("h5",{staticClass:"col-12"},[t._v("Mixed Team Achievements")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{id:"stats-tab","data-toggle":"tab",href:"#stats_summary",role:"tab","aria-controls":"stats_summary"}},[t._v("Summary")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Wins:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Draws:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Losses:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Matches:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Points:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Points Per Game"}},[t._v("PPG:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Blocks:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Armor Breaks"}},[t._v("ABs:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("KOs:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Casualties"}},[t._v("Cas:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Kills:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Blocks Per Game"}},[t._v("BPG:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("TDs:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Passes:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Passed [m]:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Ran [m]:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Interceptions"}},[t._v("Int:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Touchdowns Per Game"}},[t._v("TDPG:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Wins:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Draws:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Losses:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Matches:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Points:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Points Per Game"}},[t._v("PPG:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Blocks:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Armor Breaks"}},[t._v("ABs:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("KOs:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Casualties"}},[t._v("Cas:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Kills:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Blocks Per Game"}},[t._v("BPG:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("TDs:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Passes:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Passed [m]:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Ran [m]:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Interceptions"}},[t._v("Int:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Touchdowns Per Game"}},[t._v("TDPG:")])])}],X=(a("c740"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tournament"},[a("div",{staticClass:"card-header",attrs:{id:"tournament"+t.tournament.tournament_id}},[a("h5",{staticClass:"mb-0"},[a("div",{staticClass:"row"},[a("button",{staticClass:"col-md-9 btn btn-link btn-block",attrs:{"data-toggle":"collapse","data-target":"#collapseTournament"+t.tournament.tournament_id,"aria-expanded":"true","aria-controls":"collapseTournament"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 col-md-5 text-left"},[t._v(t._s(t.tournament.tournament_id)+". "+t._s(t.tournament.name))]),a("div",{staticClass:"col-6 col-md-2 text-left"},[t._v(t._s(t.tournament.status)+" "+t._s(t.show_date))]),a("div",{staticClass:"col-6 col-md-2 text-left"},[t._v(" Signups: "+t._s(t.signed.length)+"/"+t._s(t.tournament.coach_limit))]),a("div",{staticClass:"col-6 col-md-3 text-left"},[t._v("Channel: "+t._s(t.tournament.discord_channel)),a("br"),t._v("Phase: "+t._s(t.phase.desc))])])]),a("div",{staticClass:"col-md-3 text-right"},[t.is_user_signed&&!t.is_running?[a("confirmation-button",{staticClass:"col-12 m-1",attrs:{messages:["Resign","Are you sure?","Ok"]},on:{"confirmation-success":function(e){return t.resign()}}},[t._v("Resign")])]:t._e(),t.is_user_signed||t.is_full||t.is_running?t._e():a("button",{staticClass:"col-12 m-1 btn btn-success",attrs:{type:"button",disabled:t.processing},on:{click:function(e){return t.sign()}}},[t._v("Sign")]),t.is_user_signed?a("button",{staticClass:"btn col-12 m-1 btn-primary",attrs:{type:"button"},on:{click:function(e){return t.showDeck(t.user.coach)}}},[t._v("My Deck")]):t._e(),t.is_user_signed||!t.is_full||t.is_running?t._e():a("button",{staticClass:"col-12 m-1 btn btn-info",attrs:{disabled:"",type:"button"}},[t._v("Full")]),!t.is_user_signed&&t.is_running?a("button",{staticClass:"col-12 m-1 btn btn-info",attrs:{disabled:"",type:"button"}},[t._v("In Progress")]):t._e()],2)])])]),a("div",{staticClass:"collapse",attrs:{id:"collapseTournament"+t.tournament.tournament_id,"aria-labelledby":"Tournaments"+t.tournament.tournament_id,"data-parent":t.getProperty("data-parent")}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Signup By:")]),t._v(": "+t._s(t.tournament.signup_close_date))]),a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Start")]),t._v(": "+t._s(t.tournament.expected_start_date))]),a("div",{staticClass:"col-sm-3"},[a("b",[t._v("End")]),t._v(": "+t._s(t.tournament.expected_end_date))]),a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Deadline")]),t._v(": "+t._s(t.tournament.deadline_date))])]),a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Region")]),t._v(": "+t._s(t.tournament.region))]),a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Type")]),t._v(": "+t._s(t.tournament.type))]),a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Mode")]),t._v(": "+t._s(t.tournament.mode))]),a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Deck Limits")]),t._v(": "),a("span",{attrs:{title:"Card Limit"}},[t._v(t._s(t.tournament.deck_limit))]),t._v(" / "),a("span",{attrs:{title:"Value Limit"}},[t._v(t._s(t.tournament.deck_value_limit))])])]),a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Admin")]),t._v(": "+t._s(t.tournament.admin))]),a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Fee")]),t._v(": "+t._s(t.tournament.fee))]),a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Signups")]),t._v(": "+t._s(t.signed.length)+"/"+t._s(t.tournament.coach_limit))]),a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Reserves")]),t._v(": "+t._s(t.reserved.length)+"/"+t._s(t.tournament.reserve_limit))])]),a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-6"},[a("b",[t._v("Discord Channel")]),t._v(": #"+t._s(t.tournament.discord_channel))]),t._m(0),t.is_tournament_admin?a("div",{staticClass:"col-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected.phase,expression:"selected.phase"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.selected,"phase",e.target.multiple?a:a[0])},function(e){return t.set_phase()}]}},t._l(t.phases,(function(e){return a("option",{key:e.name,domProps:{value:e.name}},[t._v(t._s(e.desc))])})),0)]):a("div",{staticClass:"col-3"},[t._v(t._s(t.phase.desc))])]),t.is_webadmin||t.is_running?a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[a("b",[t._v("Signed")]),t._v(": "),t._l(t.signed_coaches,(function(e){return a("span",{key:e.id},[t._v(t._s(e.short_name)+" "),a("b-badge",{attrs:{href:"#",variant:"primary"},on:{click:function(a){return t.showDeck(e)}}},[t._v("Deck")])],1)}))],2)]):t._e(),t.is_webadmin||t.is_running?a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[a("b",[t._v("Reserves")]),t._v(": "),t._l(t.reserved_coaches,(function(e){return a("span",{key:e.id},[t._v(t._s(e.short_name)+" ("),a("a",{attrs:{href:"#"},on:{click:function(a){return t.showDeck(e)}}},[t._v("Deck")]),t._v(") ")])}))],2)]):t._e(),t._m(1),a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[t._v(t._s(t.tournament.prizes))])]),t._m(2),a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[t._v(t._s(t.tournament.special_rules))])]),a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[a("b",[t._v("Sponsor")]),t._v(": "+t._s(t.tournament.sponsor))])]),a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[t._v(t._s(t.tournament.sponsor_description))])]),t._m(3),a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[t._v(t._s(t.tournament.unique_prize))])]),t.is_webadmin?a("div",{staticClass:"row tournament_info_line"},[t._m(4)]):t._e(),t.is_webadmin?a("div",{staticClass:"row tournament_webadmin tournament_info_line"},[a("div",{staticClass:"col-sm-4"},[a("button",{staticClass:"col-12 m-1 btn btn-info",attrs:{disabled:t.processing,type:"button"},on:{click:function(e){return t.update()}}},[t._v("Update")])]),a("div",{staticClass:"col-sm-4"},[a("button",{staticClass:"col-12 m-1 btn btn-primary",attrs:{disabled:t.processing,type:"button"},on:{click:function(e){return t.start()}}},[t._v("Start")])]),a("div",{staticClass:"col-sm-4"},[t.prize_menu?a("button",{staticClass:"col-12 m-1 btn btn-danger",attrs:{disabled:t.processing,type:"button"},on:{click:function(e){return t.award_and_stop()}}},[t._v("Award & Stop")]):a("button",{staticClass:"col-12 m-1 btn btn-success",attrs:{disabled:t.processing,type:"button"},on:{click:function(e){return t.setprizes()}}},[t._v("Set Prizes")])])]):t._e(),t.is_webadmin&&t.prize_menu?a("div",{staticClass:"row"},[a("h5",{staticClass:"col-12 col-sm-4 col-md-8 p-2"},[t._v("Prizes:")]),a("div",{staticClass:"col-6 col-sm-4 col-md-2 text-right"},[a("button",{staticClass:"col-12 m-1 btn btn-sm btn-warning",on:{click:function(e){return t.reset_prizes()}}},[t._v("reset")])]),a("div",{staticClass:"col-6 col-sm-4 col-md-2 text-right"},[a("button",{staticClass:"col-12 m-1 btn btn-sm btn-success",on:{click:function(e){return t.add_prize()}}},[t._v("add")])]),t._l(t.prizes,(function(e,s){return[a("div",{key:"prize_coach"+s,staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.coach,expression:"prize.coach"}],staticClass:"form-control",class:{"is-invalid":""==e.coach},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"coach",a.target.multiple?s:s[0])}}},[a("option",{attrs:{selected:"",disabled:"",value:""}},[t._v("Coach:")]),t._l(t.signed_coaches,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.short_name))])}))],2)])]),a("div",{key:"prize_amount"+s,staticClass:"col-md-2"},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"prize.amount"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Cash"},domProps:{value:e.amount},on:{input:function(a){a.target.composing||t.$set(e,"amount",a.target.value)}}})])]),a("div",{key:"prize_reason"+s,staticClass:"col-md-5"},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.reason,expression:"prize.reason"}],staticClass:"form-control",class:{"is-invalid":""==e.reason},attrs:{type:"text",placeholder:"Reason"},domProps:{value:e.reason},on:{input:function(a){a.target.composing||t.$set(e,"reason",a.target.value)}}})])]),a("div",{key:"prize_button"+s,staticClass:"col-md-2 text-right"},[a("button",{staticClass:"btn m-1 btn-sm btn-danger",on:{click:function(e){return t.remove_prize(s)}}},[t._v("remove")])])]}))],2):t._e()])]),t.show_deck?a("deck",{attrs:{coach:t.selected.coach,tournament:t.tournament,deck_id:t.selected.deck_id,is_owner:t.is_owner(t.selected.coach)}}):t._e()],1)}),Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("b",[t._v("Deck Phase:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[a("b",[t._v("Prizes")]),t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[a("b",[t._v("Special Rules")]),t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[a("b",[t._v("Unique Prize")]),t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("b",[t._v("Management:")])])}],tt=(a("498a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade deck",attrs:{id:"deck"+t.id,tabindex:"-1",role:"dialog","aria-labelledby":"deck","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header deck_header"},[a("h5",{staticClass:"modal-title"},[t._v("Deck for "+t._s(t.coach.short_name)+" in "+t._s(t.tournament.name)+" - Phase: "+t._s(t.phases[t.tournament.phase])+" "),t.doneable_phase?[t.deck.phase_done?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[t._v("Done")]):t._e(),!t.deck.phase_done&&t.is_owner?a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.phaseDone()}}},[t._v("Done")]):t._e()]:t._e(),[!t.is_owner||t.deck.commited||t.locked?t._e():a("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.processing},on:{click:function(e){return t.reset()}}},[t._v("Reset")]),t.deck.commited&&!t.locked?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[t._v("Committed")]):t._e(),t.locked?a("button",{staticClass:"btn btn-info",attrs:{type:"button",disabled:""}},[t._v("Locked")]):t._e(),t.started?t._e():a("button",{staticClass:"btn btn-info",attrs:{type:"button",disabled:""}},[t._v("Not Started")])]],2),t.is_owner&&!t.deck.commited&&!t.locked&&t.started?a("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.processing},on:{click:function(e){return t.commit()}}},[t._v("Commit")]):t._e(),t._m(0)]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h6",{staticClass:"d-inline-block"},[t._v("Team:")]),t.deck.team_name?a("button",{staticClass:"mb-2 ml-3 btn btn-sm btn-info",on:{click:function(e){return t.getTeam(t.deck.team_name)}}},[t._v("Load Team")]):t._e()]),a("div",{staticClass:"form-group col-lg-6"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_team,expression:"selected_team"}],staticClass:"form-control",attrs:{disabled:t.deck_player_size>0||!t.is_owner||t.locked},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected_team=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",value:"All"}},[t._v("Select team")]),t._l(t.mixed_teams,(function(e){return a("option",{key:e.code,domProps:{value:e.name}},[t._v(t._s(e.name)+" ("+t._s(e.races.join())+")")])}))],2)]),a("div",{staticClass:"form-group col-lg-6"},[a("input",{staticClass:"form-control",attrs:{type:"text",disabled:!t.is_owner||t.locked,placeholder:"Team Name (max 25 characters)",maxlength:"25"},domProps:{value:t.deck.team_name},on:{input:function(e){return t.debounceUpdateName(e.target.value)}}})])]),a("div",{staticClass:"row"},["coach"in t.team?a("div",{staticClass:"col-12 mb-3 mt-3",attrs:{id:"teamInfoAccordion"+t.id}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{id:"teamInfo"+t.id}},[a("h6",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapseTeamInfo"+t.id,"aria-expanded":"true","aria-controls":"collapseTeamInfo"}},[t._v(" BB2 Team Details ")])])]),a("div",{staticClass:"collapse hide",attrs:{id:"collapseTeamInfo"+t.id,"aria-labelledby":"teamInfo'","data-parent":"#teamInfoAccordion"+t.id}},[a("div",{staticClass:"card-body table-responsive"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("b",[t._v("Team:")]),t._v(" "+t._s(t.team.team.name))]),a("div",{staticClass:"col-sm-4"},[a("b",[t._v("Race:")]),t._v(" "+t._s(t.race(t.team.team.idraces)))]),a("div",{staticClass:"col-sm-4"},[a("b",[t._v("Coach:")]),t._v(" "+t._s(t.team.coach.name))]),a("div",{staticClass:"col-sm-4"},[a("b",[t._v("TV:")]),t._v(" "+t._s(t.team.team.value))]),a("div",{staticClass:"col-sm-4"},[a("b",[t._v("Apothecary:")]),t._v(" "+t._s(t.team.team.apothecary?"Yes":"No")+" "),t.team_check.apothecary.value?a("span",{staticClass:"deck_valid_check"},[t._v("✓")]):a("span",{staticClass:"deck_invalid_check",attrs:{title:t.team_check.apothecary.msg}},[t._v("✗")])]),a("div",{staticClass:"col-sm-4"},[a("b",[t._v("Rerolls:")]),t._v(" "+t._s(t.team.team.rerolls)+" "),t.team_check.rerolls.value?a("span",{staticClass:"deck_valid_check"},[t._v("✓")]):a("span",{staticClass:"deck_invalid_check",attrs:{title:t.team_check.rerolls.msg}},[t._v("✗")])]),a("div",{staticClass:"col-sm-4"},[a("b",[t._v("Assistant Coaches:")]),t._v(" "+t._s(t.team.team.assistantcoaches))]),a("div",{staticClass:"col-sm-4"},[a("b",[t._v("Cheerleaders:")]),t._v(" "+t._s(t.team.team.cheerleaders))]),a("div",{staticClass:"col-sm-4"},[a("b",[t._v("Stadium Enhancement:")]),t._v(" "+t._s(t.stadium_enhacement(t.team.team)))])]),a("h6",{staticClass:"mt-2"},[t._v("Roster size: "),t.team_check.roster.value?a("span",{staticClass:"deck_valid_check"},[t._v("✓")]):a("span",{staticClass:"deck_invalid_check",attrs:{title:t.team_check.roster.msg}},[t._v("✗")])]),a("div",{staticClass:"row"},[a("table",{staticClass:"table  table-striped table-hover"},[t._m(1),a("tbody",t._l(t.sorted_roster,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.number))]),a("td",[t._v(t._s(e.level))]),a("td",[t._v(t._s(e.xp))]),a("td",[t._v(t._s(e.value))]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(t.positional_from_api(e.type)))]),a("td",[a("span",{domProps:{innerHTML:t._s(e.skills.map((function(e){return t.imgs_for_skill(e)})).join(""))}})]),a("td",[a("span",{domProps:{innerHTML:t._s(e.casualties_state.map((function(e){return t.imgs_for_skill(e)})).join(""))}})]),a("td",[t.valid(e)?a("span",{staticClass:"deck_valid_check"},[t._v("✓")]):a("span",{staticClass:"deck_invalid_check"},[t._v("✗")])])])})),0)])])])])])]):t._e()]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-12"},[a("h6",[t._v("Sponsor: "+t._s(t.tournament.sponsor))])]),a("div",{staticClass:"col-12"},[t._v(" "+t._s(t.tournament.sponsor_description)+" ")]),a("div",{staticClass:"col-12"},[t._v(" "+t._s(t.tournament.special_rules)+" ")])]),a("div",{staticClass:"row mb-3"},[t._m(2),a("div",{staticClass:"col-12"},[a("b-form-textarea",{staticClass:"p-2",attrs:{rows:"3","max-rows":"8",plaintext:!t.is_owner||t.locked,placeholder:"Provide deck comments here",value:t.deck.comment},on:{update:function(e){return t.debounceUpdateComment(e)}}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 mb-3 mt-3",attrs:{id:"extraCardsAccordion"+t.id}},[t.is_owner?a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{id:"extraCards"+t.id}},[a("h6",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapseExtraCards"+t.id,"aria-expanded":"true","aria-controls":"collapseExtraCards"}},[a("span",{attrs:{"data-toggle":"tooltip","data-placement":"top",title:"Use this to add extra cards to the collection for this tournament only"}},[t._v("Sponsor & Extra Cards")])])])]),a("div",{staticClass:"collapse hide",attrs:{id:"collapseExtraCards"+t.id,"aria-labelledby":"extraCards'","data-parent":"#extraCardsAccordion"+t.id}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.extra_card,expression:"extra_card"}],staticClass:"d-inline  form-control",attrs:{type:"text",disabled:!t.is_owner||t.locked,placeholder:t.extra_card_placeholder},domProps:{value:t.extra_card},on:{input:function(e){e.target.composing||(t.extra_card=e.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("button",{staticClass:"btn-sm btn btn-success btn-block mb-1",attrs:{type:"button",disabled:t.processing||!t.is_owner||t.locked},on:{click:function(e){return t.addExtraCard(t.extra_card)}}},[t._v("Add")])]),t._l(t.deck.unused_extra_cards,(function(e){return[a("div",{key:"name"+t.card_id_or_uuid(e),staticClass:"col-md-6 pt-1 pl-4"},[a("h6",{staticClass:"extra_card"},[t._v(t._s(e.template.name))])]),a("div",{key:"clone"+t.card_id_or_uuid(e),staticClass:"col-md-3"},[a("button",{staticClass:"btn-sm mb-1 btn btn-success btn-block",attrs:{type:"button",disabled:t.processing||!t.is_owner||t.locked},on:{click:function(a){return t.cloneExtraCard(e)}}},[t._v("Clone")])]),a("div",{key:"remove"+t.card_id_or_uuid(e),staticClass:"col-md-3"},[a("button",{staticClass:"btn-sm mb-1 btn btn-danger btn-block",attrs:{type:"button",disabled:t.processing||!t.is_owner||t.locked},on:{click:function(a){return t.removeExtraCard(e)}}},[t._v("Remove")])])]}))],2)])])]):t._e(),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{id:"log"+t.id}},[a("h6",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapselog"+t.id,"aria-expanded":"true","aria-controls":"collapselog"}},[t._v(" Deck Log ")])])]),a("div",{staticClass:"collapse hide",attrs:{id:"collapselog"+t.id,"aria-labelledby":"log'","data-parent":"#extraCardsAccordion"+t.id}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[t._l(t.deck.log.split(/\r?\n/).reverse().slice(1),(function(e,s){return[t._v(" "+t._s(e)+" "),a("br",{key:s})]}))],2)])])]),t.has_deck_upgrade?a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{id:"deck_upgrade"+t.id}},[a("h6",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapsedeckupgrade"+t.id,"aria-expanded":"true","aria-controls":"collapsedeckupgrade"}},[t._v(" Deck Upgrade ")])])]),t.has_deck_upgrade?a("div",{staticClass:"collapse show",attrs:{id:"collapsedeckupgrade"+t.id,"aria-labelledby":"log'","data-parent":"#extraCardsAccordion"+t.id}},[a("div",{staticClass:"card-body deck_upgrade"},t._l(t.deck_upgrades,(function(e){return a("div",{key:e.id,staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("b",[t._v(t._s(e.template.name)+":")])]),a("div",{staticClass:"col-md-9"},[a("span",{domProps:{innerHTML:t._s(t.markdown.makeHtml(e.template.description))}})])])})),0)]):t._e()]):t._e()])]),a("div",{staticClass:"row"},[t.canEdit?a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"row mt-1 deck_header"},[t._m(3),a("div",{staticClass:"col-6"},[a("div",{staticClass:"custom-control custom-checkbox mr-sm-2 text-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.starter,expression:"starter"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"sptoggle"+t.id},domProps:{checked:Array.isArray(t.starter)?t._i(t.starter,null)>-1:t.starter},on:{change:function(e){var a=t.starter,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=null,r=t._i(a,n);s.checked?r<0&&(t.starter=a.concat([n])):r>-1&&(t.starter=a.slice(0,r).concat(a.slice(r+1)))}else t.starter=i}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"sptoggle"+t.id}},[t._v("Toggle Starter Pack")])])])]),a("card-list",{attrs:{id:"accordionCardsCollection",cards:t.collection_cards,selected_team:t.selected_team,owner:t.coach,starter:t.starter,quantity:!1,type_list:t.deck_card_types,column_list:t.collection_colums},on:{"card-click":t.addToDeck}})],1):t._e(),a("div",{class:t.cardListClass},[a("div",{staticClass:"row mt-1 deck_header"},[a("div",{staticClass:"col-3"},[a("h6",[t._v("Deck "+t._s(t.deck_size)+"/"+t._s(t.tournament.deck_limit))])]),a("div",{staticClass:"col-3 text-center"},[a("h6",[t._v("Value: "+t._s(t.deck_value)+"/"+t._s(t.tournament.deck_value_limit))])]),a("div",{staticClass:"col-3 text-center"},[a("h6",[t._v("Doubles: "+t._s(t.deck_doubles_count))])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"custom-control custom-checkbox mr-sm-2 text-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.rarity_order,expression:"rarity_order"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"raritytoggle"+t.id},domProps:{checked:Array.isArray(t.rarity_order)?t._i(t.rarity_order,null)>-1:t.rarity_order},on:{change:function(e){var a=t.rarity_order,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=null,r=t._i(a,n);s.checked?r<0&&(t.rarity_order=a.concat([n])):r>-1&&(t.rarity_order=a.slice(0,r).concat(a.slice(r+1)))}else t.rarity_order=i}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"raritytoggle"+t.id}},[t._v("Rarity order")])])])]),a("card-list",{attrs:{id:"accordionCardsDeck",cards:t.deck_cards,selected_team:t.selected_team,owner:t.coach,starter:t.starter,quantity:!1,type_list:t.deck_card_types,column_list:t.collection_colums,rarity_sort:t.rarity_order,deck:t.deck,edit:t.canEdit},on:{"card-click":t.removeFromDeck,"card-assign":t.assignCard,"update-deck":t.updateDeck,"card-disable":t.disableCard,"card-enable":t.enableCard,"card-unskill":t.unskillCard}})],1)])])])])])}),et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("N.")]),a("th",[t._v("Lvl.")]),a("th",[t._v("SPP")]),a("th",[t._v("TV")]),a("th",[t._v("Name")]),a("th",[t._v("Position")]),a("th",[t._v("Skills")]),a("th",[t._v("Injuries")]),a("th",[t._v("Valid")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("h6",[t._v("Comment:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("h6",[t._v("Collection")])])}],at=(a("0481"),a("4069"),{name:"deck",mixins:[v],components:{cardList:z},data:function(){return{processing:!1,selected_team:"All",starter:!0,rarity_order:!0,extra_card:"",deck:{cards:[],extra_cards:[],unused_extra_cards:[],deck_upgrade_cards:[],mixed_team:"",team_name:"",comment:"",search_timeout:null,id:null,log:""},team:{},team_check:{apothecary:{msg:"OK",value:!0},rerolls:{msg:"OK",value:!0},roster:{msg:"OK",value:!0}},phases:{deck_building:"Deck Building",locked:"Locked",special_play:"Special Play",inducement:"Inducement",blood_bowl:"Blood Bowl"},deck_card_types:["Player","Training","Special Play","Staff"],collection_colums:["Rarity","Value","Name","Skills"]}},methods:{canAddToDeck:function(t){if(!this.is_owner)return!1;if(this.locked)return this.flash("Deck is locked!","info",{timeout:3e3}),!1;if(!0===this.processing)return!1;if(t.duster)return this.flash("Cannot add card - card is flagged for dusting!","error",{timeout:3e3}),!1;if("extra"!==t.deck_type&&"extra_inducement"!==t.deck_type){if(("Special Play"!==t.template.card_type||0!==this.user_special_plays.length)&&this.deck_size===this.tournament.deck_limit)return this.flash("Cannot add card - deck limit reached!","error",{timeout:3e3}),!1;if(this.deck_value+t.template.value>this.tournament.deck_value_limit)return this.flash("Cannot add card - deck value limit reached!","error",{timeout:3e3}),!1}return"All"===this.selected_team?(this.flash("Cannot add card - team not selected!","error",{timeout:3e3}),!1):!(this.deck_player_size>=16&&"Player"===t.template.card_type)||(this.flash("Cannot add card - 16 Player cards are already in the deck!","error",{timeout:3e3}),!1)},addToDeck:function(t){this.canAddToDeck(t)&&this.addCard(t)},removeFromDeck:function(t){this.isEditable()&&this.removeCard(t)},async_error:function(t){if(t.response){var e=t.response.data.message?t.response.data.message:"Unknown error: ".concat(t.response.status);this.flash(e,"error",{timeout:3e3})}else console.error(t)},getDeck:function(){var t=this,e="/decks/".concat(this.deck_id),a=this.flash("Loading deck...","info");this.axios.get(e).then((function(e){t.deck=e.data,t.selected_team=""===t.deck.mixed_team?"All":t.deck.mixed_team,t.modal().modal("show")})).catch(this.async_error).then((function(){a.destroy()}))},getTeam:function(t){var e=this,a="/teams/".concat(encodeURIComponent(t)),s=this.flash("Loading team...","info");this.axios.get(a).then((function(a){!1===a.data?e.flash("Team ".concat(t," does not exist"),"error",{timeout:3e3}):(e.team=a.data,e.checkTeam())})).catch(this.async_error).then((function(){s.destroy()}))},resetTeamCheck:function(){this.team_check={apothecary:{msg:"OK",value:!0},rerolls:{msg:"OK",value:!0},roster:{msg:"OK",value:!0}}},checkApo:function(){this.team.team.apothecary!==this.hasApo()&&(this.team_check.apothecary.value=!1,this.team.team.apothecary?this.team_check.apothecary.msg="Apothecary should not be included":this.team_check.apothecary.msg="Apothecary is missing")},checkRRs:function(){this.team.team.rerolls!==this.numberOfRerolls()&&(this.team_check.rerolls.value=!1,this.team_check.rerolls.msg="Number of RRs do not match")},checkRoster:function(){var t=this;this.team.roster.length!==this.deck_cards.filter((function(e){return"Player"===e.template.card_type&&t.isEnabled(e)})).length&&(this.team_check.roster.value=!1,this.team_check.roster.msg="Number of players does not match");var e=[];this.team.roster.forEach((function(a){a.check={value:!1,msg:"Player not found"},t.deck_cards.forEach((function(s){t.isEnabled(s)&&(e.includes(t.card_id_or_uuid(s))||a.check.value||"Player"===s.template.card_type&&t.positional_mapping(s).includes(t.positional_from_api(a.type))&&t.equal_sets(t.skill_names_for_player_card(s).concat(t.assigned_skills(s)),a.skills)&&t.equal_sets(t.player_injuries(s),a.casualties_state)&&(e.push(t.card_id_or_uuid(s)),a.check={value:!0,msg:"Player found"}))}))}))},checkTeam:function(){this.resetTeamCheck(),this.checkApo(),this.checkRRs(),this.checkRoster()},valid:function(t){return!!t.check.value},equal_sets:function(t,e){var a={};if(t.length!==e.length)return!1;try{t.forEach((function(s){var i=t.filter((function(t){return t===s})).length,n=e.filter((function(t){return t===s})).length;if(i!==n)throw a}))}catch(s){if(s!==a)throw s;return!1}return!0},positional_mapping:function(t){var e=t.template.race.split("/"),a=e.map((function(e){e=e.replace(/\s/g,""),"Bretonnian"===e&&(e="Bretonnia");var a=t.template.position;return a=a.replace(/\s/g,""),"".concat(e," ").concat(a)}));return a},hasApo:function(){var t=this,e=this.race(this.team.team.idraces);return"Afterlife United"===e?0:void 0!==this.deck_cards.find((function(e){return["Apothecary","Clever Management","Inspirational Boss"].includes(e.template.name)&&t.isEnabled(e)}))?1:0},numberOfRerolls:function(){var t=this,e=this.race(this.team.team.idraces),a=[2,2,1];"Afterlife United"===e&&(a=[3,2,2]);var s=this.deck_cards.filter((function(t){return"Inspirational Boss"===t.template.name})).length*a[0],i=this.deck_cards.filter((function(t){return"Motivational Speaker"===t.template.name})).length*a[1],n=this.deck_cards.filter((function(t){return"Clever Management"===t.template.name})).length*a[2];return this.deck_cards.filter((function(e){return"Re-roll"===e.template.name&&t.isEnabled(e)})).length+s+i+n},cloneExtraCard:function(t){this.addExtraCard(t.template.name)},isEditable:function(){return!!this.is_owner&&(!this.locked||(this.flash("Deck is locked!","info",{timeout:3e3}),!1))},addExtraCard:function(t){var e=this;if(this.isEditable()){var a="/decks/".concat(this.deck_id,"/addcard/extra");this.processing=!0;var s=this.flash("Processing...","info");this.axios.post(a,{name:t}).then((function(t){var a="Extra card added!";e.flash(a,"success",{timeout:1e3}),e.deck=t.data,e.extra_card=""})).catch(this.async_error).then((function(){s.destroy(),e.processing=!1}))}},removeExtraCard:function(t){var e=this;if(this.isEditable()){var a="/decks/".concat(this.deck_id,"/removecard/extra");this.processing=!0;var s=this.flash("Processing...","info");this.axios.post(a,t).then((function(a){var s="Extra card removed!";e.flash(s,"success",{timeout:1e3}),e.deck=a.data,e.removeAllInjuries(t)})).catch(this.async_error).then((function(){s.destroy(),e.processing=!1}))}},deck_valid:function(){var t=this;if(this.deck_player_size<11)return this.flash("You need to include at least 11 player cards!","error",{timeout:3e3}),!1;if(this.deck_size!==this.tournament.deck_limit)return this.flash("You need to include ".concat(this.tournament.deck_limit," cards!"),"error",{timeout:3e3}),!1;if(""===this.deck.team_name)return this.flash("Team name is not specified!","error",{timeout:3e3}),!1;if("All"===this.deck.mixed_team)return this.flash("Team mixed race is not specified!","error",{timeout:3e3}),!1;var e=this.deck_cards.filter((function(t){return"Training"===t.template.card_type})),a=e.find((function(e){return 0===t.get_card_assignment(e).length||t.get_card_assignment(e).includes(void 0)||t.get_card_assignment(e).includes(null)}));return void 0===a||(this.flash("Not all training cards are assigned to players!","error",{timeout:3e3}),!1)},commit:function(){var t=this;if(this.isEditable()&&this.deck_valid()){var e="/decks/".concat(this.deck_id,"/commit");this.processing=!0;var a=this.flash("Processing...","info");this.axios.get(e).then((function(e){var a="Deck commited!";t.flash(a,"success",{timeout:1e3}),t.deck=e.data,t.$parent.$emit("reloadTournament")})).catch(this.async_error).then((function(){a.destroy(),t.processing=!1}))}},reset:function(){var t=this;if(this.isEditable()){var e="/decks/".concat(this.deck_id,"/reset");this.processing=!0;var a=this.flash("Processing...","info");this.axios.get(e).then((function(e){var a="Deck reset!";t.flash(a,"success",{timeout:1e3}),t.deck.cards.forEach((function(e){t.clearCard(e)})),t.deck=e.data})).catch(this.async_error).then((function(){a.destroy(),t.processing=!1}))}},addCard:function(t){var e=this,a="/decks/".concat(this.deck_id,"/addcard");this.processing=!0;var s=this.flash("Processing...","info");this.axios.post(a,t).then((function(a){var s="Card added!";e.flash(s,"success",{timeout:1e3}),e.deck=a.data;var i=e.development?"in_development_deck":"in_imperium_deck";t[i]=!0})).catch(this.async_error).then((function(){s.destroy(),e.processing=!1}))},assignCard:function(t,e){var a=this;if(this.isEditable()){var s="/decks/".concat(this.deck_id,"/assign");this.processing=!0;var i=this.flash("Processing...","info");this.axios.post(s,t).then((function(t){var e="Card re-assigned!";a.flash(e,"success",{timeout:1e3}),a.deck=t.data})).catch((function(s){throw a.$set(t.assigned_to_array[a.deck.id],e,void 0),s})).catch(this.async_error).then((function(){i.destroy(),a.processing=!1}))}},unskillCard:function(t){var e=this;this.isEditable()&&(this.assigned_cards(t).forEach((function(a){var s=a.assigned_to_array[e.deck.id].filter((function(a){return String(a)!==e.card_id_or_uuid(t)}));a.assigned_to_array[e.deck.id]=s,e.assignCard(a)})),0!==t.assigned_to_array[this.deck.id].length&&(t.assigned_to_array[this.deck.id]=[],this.assignCard(t)))},disableCard:function(t){var e=this;if(this.isEditable()){var a="/decks/".concat(this.deck_id,"/disable");this.processing=!0;var s=this.flash("Processing...","info");this.axios.post(a,t).then((function(a){var s="Card disabled!";e.flash(s,"success",{timeout:1e3}),e.deck=a.data,e.unskillCard(t)})).catch(this.async_error).then((function(){s.destroy(),e.processing=!1}))}},enableCard:function(t){var e=this;if(this.isEditable()){var a="/decks/".concat(this.deck_id,"/enable");this.processing=!0;var s=this.flash("Processing...","info");this.axios.post(a,t).then((function(t){var a="Card enabled!";e.flash(a,"success",{timeout:1e3}),e.deck=t.data})).catch(this.async_error).then((function(){s.destroy(),e.processing=!1}))}},removeCard:function(t){var e=this,a="/decks/".concat(this.deck_id,"/remove");this.processing=!0;var s=this.flash("Processing...","info");this.axios.post(a,t).then((function(a){var s="Card removed!";e.flash(s,"success",{timeout:1e3}),e.deck=a.data,t.id&&"extra"!==t.deck_type&&"extra_inducement"!==t.deck_type&&e.clearCard(t),e.removeAllInjuries(t),e.unskillCard(t)})).catch(this.async_error).then((function(){s.destroy(),e.processing=!1}))},phaseDone:function(){this.deck.phase_done=!0,this.updateDeck()},clearCard:function(t){var e=this.development?"in_development_deck":"in_imperium_deck",a=this.coach.cards.find((function(e){return e.id===t.id}));a[e]=!1},updateDeck:function(){var t=this;if(this.isEditable()){var e="/decks/".concat(this.deck_id);this.processing=!0;var a={team_name:this.deck.team_name,mixed_team:this.deck.mixed_team,comment:this.deck.comment,injury_map:this.deck.injury_map,phase_done:this.deck.phase_done};this.axios.post(e,{deck:a}).then((function(e){t.deck=e.data})).catch(this.async_error).then((function(){t.processing=!1}))}},debounceUpdateName:function(t){this.search_timeout&&clearTimeout(this.search_timeout);var e=this;this.search_timeout=setTimeout((function(){e.deck.team_name=t,e.updateDeck()}),1e3)},debounceUpdateComment:function(t){this.search_timeout&&clearTimeout(this.search_timeout);var e=this;this.search_timeout=setTimeout((function(){e.deck.comment=t,e.updateDeck()}),1e3)},modal:function(){return this.$("#deck".concat(this.id))},extra_type:function(t){switch(t){case"base":case null:return"";default:return"extra_card"}},deck_size_for:function(t){var e=this;return this.deck_cards.filter((function(a){return a.template.card_type===t&&e.isEnabled(a)})).length},assigned_cards:function(t){var e=this;return this.deck_cards.filter((function(a){return e.get_card_assignment(a).includes(e.card_id_or_uuid(t))}))},player_injuries:function(t){return this.assigned_injuries(t).concat(this.injury_names_for_player_card(t))},assigned_injuries:function(t){var e;return e=this.deck.injury_map[this.card_id_or_uuid(t)]?this.deck.injury_map[this.card_id_or_uuid(t)]:[],e},assigned_skills:function(t){var e=this;return this.assigned_cards(t).map((function(t){var a=e.skill_names_for(t);return a.map((function(t){return e.skill_to_api_skill(t)}))})).flat()},get_card_assignment:function(t){return t.assigned_to_array[this.deck.id]?t.assigned_to_array[this.deck.id]:[]},is_tr_card_assigned_as_double:function(t){var e=this,a=this.get_card_assignment(t),s=!1;return a.forEach((function(a){var i=e.deck_cards.find((function(t){return String(t.id)===String(a)||String(t.uuid)===String(a)}));if(i){var n=e.skill_names_for(t);n.forEach((function(t){e.is_skill_double(i,t)&&(s=!0)}))}})),s},removeAllInjuries:function(t){var e=this.card_id_or_uuid(t);this.deck.injury_map[e]=[],this.updateDeck()},isInDeck:function(t){return this.development?t.in_development_deck:t.in_imperium_deck},isNotInDeck:function(t){return!this.isInDeck(t)},positional_from_api:function(t){var e=t.split("_");return e.shift(),e.join(" ")},stadium_enhacement:function(t){var e=t.cards.find((function(t){return"Building"===t.type}));if(e)switch(e.name){case"Bazar":return"Magician's Shop";case"SecurityArea":return"Security Gate";case"RefreshmentArea":return"Beer Stand";case"RefereeArea":return"Referee Rest Area";case"Astrogranit":return"Astrogranite";case"ElfTurf":return"Elf Turf";case"VIPArea":return"Royal Box";case"FoodArea":return"Squig Sandwich Kiosk";case"Nuffle":return"Nuffle Altar";case"Roof":return"Magic Dome";default:return"None"}return"None"},race:function(t){var e=this.mixed_teams.find((function(e){return e.idraces===t}));return e?e.name:"Unknown race"}},watch:{selected_team:function(t){this.deck.mixed_team=t,this.updateDeck()},deck_id:function(){this.getDeck()}},computed:{id:function(){return"C".concat(this.coach.id,"T").concat(this.tournament.tournament_id)},tier_tax:function(){var t=this,e=this.mixed_teams.find((function(e){return e.name===t.selected_team}));return e?e.tier_tax:0},development:function(){return"Development"===this.tournament.type},user_deck_cards:function(){return this.deck.cards},assignable_deck_player_cards:function(){return this.deck_player_cards.filter((function(t){return!["Legendary","Inducement","Unique","Blessed","Cursed"].includes(t.template.rarity)}))},deck_player_cards:function(){return this.deck_cards.filter((function(t){return"Player"===t.template.card_type}))},deck_player_size:function(){return this.deck_size_for("Player")},deck_cards:function(){return this.deck.cards.concat(this.deck.extra_cards)},collection_cards:function(){return this.coach.cards.concat(this.deck.unused_extra_cards).filter(this.isNotInDeck)},user_special_plays:function(){return this.user_deck_cards.filter((function(t){return"Special Play"===t.template.card_type}))},deck_size:function(){var t=this.user_special_plays.length,e=t>0?1:0;return this.user_deck_cards.length-e},extra_card_placeholder:function(){return"deck_building"===this.tournament.phase?"Type exact name of Sponsor Card and click Add":"special_play"===this.tournament.phase?"Type exact name of Card and click Add":"inducement"===this.tournament.phase?"Type exact name of Inducement Card and click Add":""},doneable_phase:function(){return!!["special_play","inducement"].includes(this.tournament.phase)},started:function(){return"OPEN"!==this.tournament.status},locked:function(){return"locked"===this.tournament.phase||"blood_bowl"===this.tournament.phase},sorted_roster:function(){if("roster"in this.team){var t=this.team.roster;return t.sort((function(t,e){return t.number-e.number}))}return[]},deck_doubles_count:function(){var t=this,e=0;return this.deck_cards.forEach((function(a){"Training"===a.template.card_type&&"extra"!==a.deck_type&&(e+=t.is_tr_card_assigned_as_double(a)?1:0)})),e},deck_value:function(){var t=this.user_deck_cards.reduce((function(t,e){return t+e.template.value}),0);return t+this.tier_tax},has_deck_upgrade:function(){return this.deck_upgrades.length>0},deck_upgrades:function(){return this.deck.deck_upgrade_cards},canEdit:function(){return this.is_owner&&!this.locked},cardListClass:function(){return this.canEdit?"col-lg-6":"col-lg-12"}},beforeMount:function(){this.getDeck(),this.$parent.$emit("reloadTournament")},mounted:function(){var t=this;this.modal().on("hidden.bs.modal",(function(){return t.$parent.$emit("deckClosed")})),this.$((function(){t.$('[data-toggle="tooltip"]').tooltip()}))},props:["coach","tournament","deck_id","is_owner"]}),st=at,it=Object(S["a"])(st,tt,et,!1,null,null,null),nt=it.exports,rt={name:"tournament",mixins:[v],components:{deck:nt,"confirmation-button":T},data:function(){return{processing:!1,prize_menu:!1,prizes:[],selected:{coach:{},deck_id:null,phase:"deck_building"},show_deck:!1,phases:[{name:"deck_building",desc:"Deck Building"},{name:"locked",desc:"Locked"},{name:"special_play",desc:"Special Play"},{name:"inducement",desc:"Inducement"},{name:"blood_bowl",desc:"Blood Bowl"}]}},props:["tournament","coaches","data-parent","user"],methods:Object(f["a"])({getProperty:function(t){return this[t]},setprizes:function(){this.prize_menu=!0,this.call("cards");while(this.prizes.length<this.tournament.coach_limit){var t=new RegExp("(".concat(this.prizes.length+1,"\\S+):(\\s+\\d+)"),"g"),e=t.exec(this.tournament.prizes),a=null!==e?e[2].trim():0,s=null!==e?e[1].trim():0;if(0===a){switch(this.prizes.length){case 0:s="Winner";break;case 1:s="Runner-Up";break;case 2:case 3:s="Semi-Final";break;case 4:case 5:case 6:case 7:s="Quarter-Final";break;default:s=""}t=new RegExp("".concat(s,":(\\s+\\d+)"),"g"),e=t.exec(this.tournament.prizes),a=null!==e?e[1].trim():0}this.add_prize({coach:"",amount:a,reason:"".concat(this.tournament.type," ").concat(this.tournament.mode," ").concat(s)})}if("None"!==this.tournament.sponsor&&""!==this.tournament.sponsor)while(this.prizes.length<2*this.tournament.coach_limit)this.add_prize({coach:"",amount:0,reason:"".concat(this.tournament.sponsor," Bonus")})},add_prize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{coach:"",amount:0,reason:""};this.prizes.push(t)},remove_prize:function(t){this.prizes.splice(t,1)},reset_prizes:function(){this.prizes=[],this.setprizes()},check_prizes:function(){for(var t=0;t<this.prizes.length;t+=1){if(""===this.prizes[t].coach)return this.flash("Coach not selected","error",{timeout:3e3}),!1;if(""===this.prizes[t].reason)return this.flash("Reason not specified","error",{timeout:3e3}),!1}return!0},award_and_stop:function(){var t=this;if(this.check_prizes()){this.processing=!0;var e="/tournaments/".concat(this.tournament.id,"/close"),a=this.flash("Processing...","info");this.axios.post(e,this.prizes).then((function(e){var a="Prizes awarded and tournament stopped";t.flash(a,"success",{timeout:3e3}),t.prizes=[],t.prize_menu=!1,t.updateTournament(e.data)})).catch((function(e){e.response?t.flash(e.response.data.message,"error",{timeout:3e3}):console.error(e)})).then((function(){a.destroy(),t.processing=!1}))}},set_phase:function(){var t=this;this.processing=!0;var e="/tournaments/".concat(this.tournament.id,"/set_phase"),a=this.flash("Processing...","info");this.axios.post(e,{phase:this.selected.phase}).then((function(e){var a="Phase updated!";t.flash(a,"success",{timeout:3e3}),t.updateTournament(e.data)})).catch((function(e){e.response?t.flash(e.response.data.message,"error",{timeout:3e3}):console.error(e)})).then((function(){a.destroy(),t.processing=!1}))},start:function(){this.call("start")},cards:function(){this.call("cards")},sign:function(){this.call("sign")},resign:function(){this.call("resign")},update:function(){this.call("update")},get:function(){this.call("get")},call:function(t){var e,a,s,i=this;"update"===t?(e="/tournaments/".concat(t),a=this.flash("Updating...","info")):e="get"===t?"/tournaments/".concat(this.tournament.id):"/tournaments/".concat(this.tournament.id,"/").concat(t);var n=!0;this.processing=!0,this.axios.get(e).then((function(e){"sign"===t?s="Signup to ".concat(i.tournament.name," succeded"):"resign"===t?s="Resignation from ".concat(i.tournament.name," succeded"):"start"===t?s="Start of ".concat(i.tournament.name," initiated. Check discord!"):"update"===t?s="Tournaments updated":"get"!==t&&"cards"!==t||(n=!1),n&&i.flash(s,"success",{timeout:3e3}),i.tournament.fee>0&&["sign","resign"].includes(t)&&("sign"===t?s="Charged registration fee ".concat(i.tournament.fee," coins"):"resign"===t&&(s="Refunded registration fee ".concat(i.tournament.fee," coins")),i.flash(s,"info",{timeout:3e3})),["sign","resign","get","start"].includes(t)?i.updateTournament(e.data):"update"===t?i.storeTournaments(e.data):"cards"===t&&e.data.forEach((function(t){i.has_keyword(t,"Payout")&&i.add_prize({coach:"",amount:0,reason:t.template.name})}))})).catch((function(t){t.response?i.flash(t.response.data.message,"error",{timeout:3e3}):console.error(t)})).then((function(){i.processing=!1,"undefined"!==typeof a&&a.destroy()}))},showDeck:function(t){var e=this.tournament.tournament_signups.find((function(e){return e.coach===t.id}));this.selected.deck_id=e.deck,this.selected.coach=t,this.show_deck=!0}},Object(p["d"])(["updateTournament","storeTournaments"])),computed:Object(f["a"])({selected_phase:function(){return this.selected.phase},signed:function(){return this.tournament.tournament_signups.filter((function(t){return"active"===t.mode}))},reserved:function(){return this.tournament.tournament_signups.filter((function(t){return"active"!==t.mode}))},signed_ids:function(){return this.signed.map((function(t){return t.coach}))},reserved_ids:function(){return this.reserved.map((function(t){return t.coach}))},signed_coaches:function(){var t=this;return this.coaches.filter((function(e){return t.signed_ids.includes(e.id)}))},reserved_coaches:function(){var t=this;return this.coaches.filter((function(e){return t.reserved_ids.includes(e.id)}))},signed_coaches_names:function(){return this.signed_coaches.map((function(t){return t.short_name}))},reserved_coaches_names:function(){return this.reserved_coaches.map((function(t){return t.short_name}))},is_user_signed:function(){return!(!this.user.username||!this.signed_coaches_names.concat(this.reserved_coaches_names).includes(this.user.username))},loggedCoach:function(){var t=this;if(this.user.id){var e=this.coaches.find((function(e){return e.id===t.user.coach.id}));return e}},is_webadmin:function(){return!(!this.loggedCoach||!this.loggedCoach.web_admin)},is_tournament_admin:function(){return!(!this.loggedCoach||this.loggedCoach.short_name!==this.tournament.admin)},phase:function(){var t=this,e=this.phases.find((function(e){return e.name===t.tournament.phase}));return e||this.phases[0]},show_date:function(){return"OPEN"===this.tournament.status?"(".concat(this.tournament.expected_start_date,")"):"RUNNING"===this.tournament.status?"(".concat(this.tournament.deadline_date,")"):""},is_full:function(){var t=this.tournament.coach_limit===this.tournament.tournament_signups.filter((function(t){return"active"===t.mode})).length,e=this.tournament.reserve_limit===this.tournament.tournament_signups.filter((function(t){return"active"!==t.mode})).length;return t&&e},is_running:function(){return"OPEN"!==this.tournament.status}},Object(p["c"])(["loggedCoach","is_webadmin","is_owner"])),mounted:function(){var t=this;this.$on("deckClosed",(function(){t.show_deck=!1})),this.$on("reloadTournament",this.get),this.selected.phase=this.tournament.phase}},ct=rt,ot=Object(S["a"])(ct,X,Z,!1,null,null,null),lt=ot.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.display?a("div",{staticClass:"row"},[a("div",{staticClass:"col-9"},[a("div",{staticClass:"progress position-relative mb-2"},[a("div",{staticClass:"progress-bar",class:t.data.completed?"bg-success":"",style:"width: "+t.progress+"%;",attrs:{role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"}}),a("span",{staticClass:"justify-content-center d-flex position-absolute w-100"},[t._v(" "+t._s(t.data.desc)+" "+t._s(t.data.best)+" / "+t._s(t.data.target)+" ")])])]),a("div",{staticClass:"col-3"},[a("button",{staticClass:"col-12 mb-2 ml-2 btn",class:t.achievement_state_class,attrs:{type:"button",disabled:!t.achievement_ready}},[t._v(" "+t._s(t.data.award_text)),t.data.completed?a("span",[t._v(" ✓")]):t._e()])])]):t._e()},ut=[],_t={name:"imperiumAchievement",props:{data:Object,hidden:{type:Boolean,default:!1}},data:function(){return{}},methods:{},computed:{achievement_ready:function(){return 100===this.progress&&!this.data.completed},progress:function(){var t=this.data.best/this.data.target;return t>1?100:100*t},achievement_state_class:function(){return 100===this.progress?"btn-success":"btn-secondary"},display:function(){return!(this.hidden&&!this.data.completed)}},watch:{}},mt=_t,ht=Object(S["a"])(mt,dt,ut,!1,null,null,null),ft=ht.exports,pt={name:"coach-content",mixins:[v],components:{tournament:lt,imperiumAchievement:ft,cardList:z},data:function(){return{coach_filter:"",search_timeout:null,selected_team:"All",processing:!1,starter:!0,selectedCoach:{short_name:"",account:{amount:0,transactions:[]},tournaments:[],cards:[],id:0,achievements:{},stats:{},free_packs:""}}},methods:{getFreePacks:function(t){return t.free_packs.split(",").map((function(t){switch(t){case"player":return"Player";case"training":return"Training";case"special":return"Special Play";case"booster_budget":return"Booster";case"booster_premium":return"Booster Premium";default:return""}})).join(", ")},tournamentsFor:function(t){return this.tournaments.filter((function(e){return t.tournaments.includes(e.id)}))},quest_achievements:function(t){return t.achievements.quests?["collect3legends","buildyourownlegend"].map((function(e){return t.achievements.quests[e]})):[]},conclave_achievements:function(t){return t.achievements.conclave?["getcursed1","getcursed2","getcursed3","getblessed1","getblessed2","getblessed3"].map((function(e){return t.achievements.conclave[e]})):[]},team_achievements:function(t){var e=this;return t.achievements.team?[32,33,34,35,36,37,38,39,40,41,42].map((function(a){return{team_name:e.mixed_teams.find((function(t){return t.idraces===a})).name,achievements:t.achievements.team[a]}})):[]},match_achievements:function(t){return t.achievements.match?["passingtotal1","passingtotal2","runningtotal1","runningtotal2","surfstotal1","surfstotal2","blocks1game1","blocks1game2","breaks1game1","breaks1game2","cas1game1","cas1game2","int1game1","score1game1","score1game2","sufferandwin1","sufferandwin2","winwithall","win500down"].map((function(e){return t.achievements.match[e]})):[]},team_stats:function(t){var e=this;return t.stats.teams?[32,33,34,35,36,37,38,39,40,41,42].map((function(a){return{team_name:e.mixed_teams.find((function(t){return t.idraces===a})).name,stats:t.stats.teams[a]}})):[]},getStat:function(t){for(var e=t.stats,a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];for(var n=0;n<s.length;n+=1){if(!e[s[n]])return 0;e=e[s[n]]}return e},getTeamStat:function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];return t.stats&&t.stats[a[0]]?t.stats[a[0]]:0},getCoach:function(t){var e=this,a="/coaches/".concat(t);this.axios.get(a).then((function(a){var s=e.coaches.findIndex((function(e){return e.id===parseInt(t,10)}));e.$set(e.coaches,s,a.data),e.selectedCoach=e.coaches[s],e.$nextTick((function(){e.$('[data-toggle="popover"]').popover()}))})).catch((function(t){console.error(t)}))},debounceCoachSearch:function(t){var e=this;this.search_timeout&&clearTimeout(this.search_timeout),this.search_timeout=setTimeout((function(){e.coach_filter=t}),300)},linkBB2Name:function(){var t=this,e=this.selectedCoach.id,a="/coaches/".concat(e);this.axios.put(a,{name:this.selectedCoach.bb2_name}).then((function(a){var s=t.coaches.findIndex((function(t){return t.id===parseInt(e,10)}));t.$set(t.coaches,s,a.data),t.selectedCoach=t.coaches[s],t.flash("BB2 name updated","success",{timeout:3e3})})).catch((function(e){e.response?t.flash(e.response.data.message,"error",{timeout:3e3}):console.error(e)}))},selectCoach:function(){var t=this.loggedCoach;t&&!1===t.deleted?this.getCoach(this.loggedCoach.id):this.coaches.length>0&&this.getCoach(this.coaches[0].id)},init:function(){var t=this;this.selectCoach(),this.$nextTick((function(){t.$('[data-toggle="popover"]').popover()}))},print_date:function(t){var e=new Date(t),a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return e.toLocaleDateString("default",a)}},computed:Object(f["a"])({orderedCoaches:function(){var t=this.coaches;return t.sort((function(t,e){return t.name.localeCompare(e.name)}))},filteredCoaches:function(){var t=this;return this.orderedCoaches.filter((function(e){return e.name.toLowerCase().includes(t.coach_filter.toLowerCase())}))}},Object(p["e"])(["user","coaches","tournaments","bb2Names","initial_load"]),{},Object(p["c"])(["loggedCoach","is_webadmin","is_loggedcoach","is_duster","is_duster_full","is_duster_open","duster_type","is_owner"])),watch:{initial_load:function(t){t&&this.init()}},mounted:function(){this.initial_load&&this.init()}},vt=pt,gt=Object(S["a"])(vt,J,Y,!1,null,null,null),bt=gt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"tab-content",attrs:{id:"accordionTournaments"}},[a("div",{staticClass:"row col-lg-9"},[a("div",{staticClass:"form-group col-md-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_t_region,expression:"selected_t_region"}],staticClass:"form-control",attrs:{id:"tournament_region"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected_t_region=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",disabled:"",value:""}},[t._v("Region:")]),a("option",{attrs:{value:""}},[t._v("Reset")]),a("option",{attrs:{value:"all"}},[t._v("Cross-region")]),a("option",{attrs:{value:"bigo"}},[t._v("Big O")]),a("option",{attrs:{value:"gman"}},[t._v("GMAN")]),a("option",{attrs:{value:"rel"}},[t._v("REL")])])]),a("div",{staticClass:"form-group col-md-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_t_state,expression:"selected_t_state"}],staticClass:"form-control",attrs:{id:"tournament_state"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected_t_state=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",disabled:"",value:""}},[t._v("Occupation:")]),a("option",{attrs:{value:""}},[t._v("Reset")]),a("option",{attrs:{value:"free"}},[t._v("Free")]),a("option",{attrs:{value:"full"}},[t._v("Full")]),a("option",{attrs:{value:"entered"}},[t._v("Entered")]),a("option",{attrs:{value:"admined_by_me"}},[t._v("Admined by me")])])]),a("div",{staticClass:"form-group col-md-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_t_mode,expression:"selected_t_mode"}],staticClass:"form-control",attrs:{id:"tournament_duration"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected_t_mode=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",disabled:"",value:""}},[t._v("Mode:")]),a("option",{attrs:{value:""}},[t._v("Reset")]),a("option",{attrs:{value:"regular"}},[t._v("Regular")]),a("option",{attrs:{value:"fasttrack"}},[t._v("Fast Track")]),a("option",{attrs:{value:"bootcamp"}},[t._v("Boot Camp")])])])]),t._l(t.filteredTournaments,(function(e){return a("tournament",{key:e.tournament_id,staticClass:"show col-lg-9",attrs:{id:"tourn"+e.tournament_id,role:"tabpanel","aria-labelledby":"tournament",tournament:e,coaches:t.coaches,"data-parent":"#accordionTournaments",user:t.user}})}))],2)])])},kt=[],yt={name:"tournament-content",components:{tournament:lt},data:function(){return{selected_t_region:"",selected_t_state:"",selected_t_mode:""}},methods:{},computed:Object(f["a"])({filteredTournaments:function(){var t=this,e=this.tournaments;return""!==this.selected_t_region&&(e=e.filter((function(e){return e.region.toLowerCase().replace(/\s/g,"")===t.selected_t_region}))),""!==this.selected_t_mode&&(e=e.filter((function(e){return e.mode.toLowerCase().replace(/\s/g,"")===t.selected_t_mode}))),"full"===this.selected_t_state?e=e.filter((function(t){return t.coach_limit===t.tournament_signups.filter((function(t){return"active"===t.mode})).length})):"free"===this.selected_t_state?e=e.filter((function(t){return t.coach_limit>t.tournament_signups.filter((function(t){return"active"===t.mode})).length})):"admined_by_me"===this.selected_t_state?e=e.filter((function(e){return t.loggedCoach&&t.loggedCoach.short_name===e.admin})):"entered"===this.selected_t_state&&(e=e.filter((function(e){if(void 0!==t.loggedCoach)for(var a=0;a<e.coach_limit;a+=1)if(e.tournament_signups[a]&&e.tournament_signups[a].coach===t.loggedCoach.id)return e;return!1}))),e}},Object(p["e"])(["user","coaches","tournaments"]),{},Object(p["c"])(["loggedCoach","is_webadmin"])),watch:{}},xt=yt,wt=Object(S["a"])(xt,Ct,kt,!1,null,null,null),St=wt.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("leaderboard-table",{attrs:{title:"TOP 10 Collectors",coaches:t.collectors_sorted,attr:"collection_value",coach:t.leaderboard_coach}}),a("leaderboard-table",{attrs:{title:"TOP 10 Earners",coaches:t.earners_sorted,attr:"earned",coach:t.leaderboard_coach}}),a("leaderboard-table",{attrs:{title:"TOP 10 Grinders",coaches:t.grinders_sorted,attr:"matches",coach:t.stats_coach}}),a("leaderboard-table",{attrs:{title:"TOP 10 Points",coaches:t.points_sorted,attr:"points",coach:t.stats_coach}}),a("leaderboard-table",{attrs:{title:"TOP 10 Points Per Game (min. 6 games)",coaches:t.ppg_sorted,attr:"ppg",coach:t.stats_coach}}),a("leaderboard-table",{attrs:{title:"TOP 10 Scorers",coaches:t.scorers_sorted,attr:"inflictedtouchdowns",coach:t.stats_coach}}),a("leaderboard-table",{attrs:{title:"TOP 10 Touchdowns Per Game (min. 6 games)",coaches:t.tpg_sorted,attr:"tpg",coach:t.stats_coach}}),a("leaderboard-table",{attrs:{title:"TOP 10 Bashers",coaches:t.bashers_sorted,attr:"inflictedcasualties",coach:t.stats_coach}}),a("leaderboard-table",{attrs:{title:"TOP 10 Casualties Per Game (min. 6 games)",coaches:t.cpg_sorted,attr:"cpg",coach:t.stats_coach}}),a("leaderboard-table",{attrs:{title:"TOP 10 Hitmen",coaches:t.hitmen_sorted,attr:"inflicteddead",coach:t.stats_coach}}),a("leaderboard-table",{attrs:{title:"TOP 10 Passers",coaches:t.passers_sorted,attr:"inflictedpasses",coach:t.stats_coach}}),a("leaderboard-table",{attrs:{title:"TOP 10 Surfers",coaches:t.surfers_sorted,attr:"inflictedpushouts",coach:t.stats_coach}})],1)},Tt=[],Et=(a("b680"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 col-md-6 col-lg-4 table-responsive"},[a("h4",[t._v(" "+t._s(t.title)+" ")]),a("table",{staticClass:"table table-hover",attrs:{id:"leaderboard"}},[t._m(0),a("tbody",[t._l(t.coaches.slice(0,10),(function(e,s){return a("tr",{key:e.id,class:t.leaderboard_class(t.coach_name(e))},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1)+".")]),a("td",[t._v(t._s(t.coach_name(e)))]),a("td",{staticClass:"text-right"},[t._v(t._s(e[t.attr]))])])})),void 0!=t.coach&&t.coaches.indexOf(t.coach)>9?a("tr",{class:t.leaderboard_class(t.coach_name(t.coach))},[a("th",{attrs:{scope:"row"}},[t._v(t._s(t.coaches.indexOf(t.coach)+1)+".")]),a("td",[t._v(t._s(t.coach_name(t.coach)))]),a("td",{staticClass:"text-right"},[t._v(t._s(t.coach[t.attr]))])]):t._e()],2)])])}),At=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v("Value")])])])}],jt={name:"leaderboard-table",props:{title:String,coaches:Array,attr:String,coach:Object},data:function(){return{}},methods:{leaderboard_class:function(t){return this.is_loggedcoach(t)?"table-success":""},coach_name:function(t){return t.short_name?t.short_name:t.name}},computed:Object(f["a"])({},Object(p["c"])(["is_loggedcoach"])),watch:{}},Dt=jt,Ot=Object(S["a"])(Dt,Et,At,!1,null,null,null),$t=Ot.exports,Bt={name:"leaderboard-content",components:{leaderboardTable:$t},data:function(){return{leaderboard:{deck_values:[],earners:[],stats:[],coaches:[]},initial_load:!1}},methods:{getLeaderboard:function(){var t=this,e="/coaches/leaderboard";this.axios.get(e).then((function(e){t.leaderboard.coaches=e.data.coaches,t.leaderboard.stats=e.data.coach_stats})).catch((function(t){console.error(t)}))},init:function(){this.getLeaderboard(),this.init=!0},per_game:function(t,e){return e>=6?t/e:0}},computed:Object(f["a"])({stats_coach:function(){var t=this;return this.leaderboard.stats.find((function(e){return t.is_loggedcoach(e.name)}))},leaderboard_coach:function(){var t=this;return this.leaderboard.coaches.find((function(e){return t.is_loggedcoach(e.short_name)}))},collectors_sorted:function(){return this.leaderboard.coaches.slice().sort((function(t,e){return e.collection_value-t.collection_value}))},earners_sorted:function(){return this.leaderboard.coaches.slice().sort((function(t,e){return e.earned-t.earned}))},grinders_sorted:function(){return this.leaderboard.stats.slice().sort((function(t,e){return e.matches-t.matches}))},points_sorted:function(){return this.leaderboard.stats.slice().sort((function(t,e){return e.points-t.points}))},ppg_sorted:function(){var t=this;return this.leaderboard.stats.forEach((function(e){e.ppg=t.per_game(e.points,e.matches).toFixed(2)})),this.leaderboard.stats.slice().sort((function(t,e){return e.ppg-t.ppg}))},scorers_sorted:function(){return this.leaderboard.stats.slice().sort((function(t,e){return e.inflictedtouchdowns-t.inflictedtouchdowns}))},tpg_sorted:function(){var t=this;return this.leaderboard.stats.forEach((function(e){e.tpg=t.per_game(e.inflictedtouchdowns,e.matches).toFixed(2)})),this.leaderboard.stats.slice().sort((function(t,e){return e.tpg-t.tpg}))},bashers_sorted:function(){return this.leaderboard.stats.slice().sort((function(t,e){return e.inflictedcasualties-t.inflictedcasualties}))},cpg_sorted:function(){var t=this;return this.leaderboard.stats.forEach((function(e){e.cpg=t.per_game(e.inflictedcasualties,e.matches).toFixed(2)})),this.leaderboard.stats.slice().sort((function(t,e){return e.cpg-t.cpg}))},hitmen_sorted:function(){return this.leaderboard.stats.slice().sort((function(t,e){return e.inflicteddead-t.inflicteddead}))},passers_sorted:function(){return this.leaderboard.stats.slice().sort((function(t,e){return e.inflictedpasses-t.inflictedpasses}))},surfers_sorted:function(){return this.leaderboard.stats.slice().sort((function(t,e){return e.inflictedpushouts-t.inflictedpushouts}))}},Object(p["c"])(["is_loggedcoach"])),watch:{},mounted:function(){this.initial_load||this.init()}},It=Bt,Mt=Object(S["a"])(It,Pt,Tt,!1,null,null,null),Rt=Mt.exports,Nt={name:"App",mixins:[v,g],data:function(){return{menu:"Coaches"}},components:{"signup-modal":G,imperiumNavbar:Q,coachContent:bt,tournamentContent:St,leaderboardContent:Rt},methods:Object(f["a"])({setMenu:function(t){this.menu=t},getInitialData:function(){var t=this;this.axios.all([this.getMe(),this.getCoaches(),this.getTournaments(),this.getBBNames()]).then(this.axios.spread((function(){t.$store.commit("initially_loaded")}))).catch((function(t){console.error(t)}))},signedCallback:function(t){this.user.coach=t,this.getCoaches()}},Object(p["b"])(["getCoaches","getTournaments","getBBNames","getMe"])),computed:Object(f["a"])({is_active:function(){return!(!this.user.id||!this.loggedCoach||this.loggedCoach.deleted)}},Object(p["e"])(["user","initial_load"]),{},Object(p["c"])(["loggedCoach"])),watch:{initial_load:function(t){!0!==t||this.is_active||this.$refs.signupModal.open()}},mounted:function(){this.$on("signedUpCoach",this.signedCallback)},beforeMount:function(){this.getInitialData()}},zt=Nt,Lt=Object(S["a"])(zt,m,h,!1,null,null,null),Ft=Lt.exports,Ut=(a("d3b7"),a("ade3")),Gt=a("d4ec"),Ht=a("bee2"),qt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.duration,a=void 0===e?3e3:e,s=t.css,i=void 0===s?null:s,n=arguments.length>1?arguments[1]:void 0;return{render:function(t){var e=this,a=[];return Object.keys(this.storage).map((function(s){var i=[t("div",{attrs:{class:"flash__message-content"},domProps:{innerHTML:e.storage[s].content}})];return e.storage[s].options.important||i.push(t("button",{attrs:{type:"button",class:"flash__close-button","data-dismiss":"alert","aria-label":"alertClose"},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.destroyFlash(s)}}},[t("span",{attrs:{"aria-hidden":"true"},domProps:{innerHTML:"&times;"}})])),a.push(t("div",{class:"".concat(e.cssClasses(s)," flash__message"),key:s,attrs:{role:"alert","aria-live":"polite","aria-atomic":"true"},on:{mouseover:function(){e.onMouseOver(s)},mouseleave:function(){e.onMouseOut(s)}}},i)),!1})),t("div",{},[t("transition-group",{attrs:{name:this.transitionName,tag:"div"},class:this.outerClass},a)])},props:{transitionName:{type:String,default:"flash-transition"},outerClass:{type:String,default:"flash__wrapper"}},data:function(){return Object.assign({message:null,closed:!1,_timeout:null},{duration:a,css:i})},computed:{storage:function(){return n.storage}},methods:{cssClasses:function(t){return this.getFlash(t).type},getFlash:function(t){return this.storage[t]},destroyFlash:function(t){this.getFlash(t).destroy()},onMouseOver:function(t){var e=this.getFlash(t);"undefined"!==typeof e&&e.onStartInteract()},onMouseOut:function(t){var e=this.getFlash(t);"undefined"!==typeof e&&e.onCompleteInteract()}}}};function Vt(t){var e={};return t&&"[object Function]"===e.toString.call(t)}function Kt(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var a=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?a:3&a|8).toString(16)}));return e}var Wt=function(){function t(e,a,s,i,n){Object(Gt["a"])(this,t);var r={autoEmit:!0,important:!1,pauseOnInteract:!1,timeout:0,beforeDestroy:null,onStartInteract:null,onCompleteInteract:null};this.storage=e,this.content=a,this.options=Object.assign(r,n,i),this.type=s,this.id=Kt(),this.timer=null,this.options.autoEmit&&this.emit()}return Object(Ht["a"])(t,[{key:"emit",value:function(){this.storage.push(this.id,this),this.startSelfDestructTimer()}},{key:"destroy",value:function(){this.killSelfDestructTimer(),this.beforeDestroy(),this.storage.destroy(this.id)}},{key:"setSelfDestructTimeout",value:function(t){this.options.timeout=t}},{key:"startSelfDestructTimer",value:function(){var t=this;this.options.timeout>0&&setTimeout((function(){t.destroy()}),this.options.timeout)}},{key:"killSelfDestructTimer",value:function(){clearTimeout(this.timer)}},{key:"beforeDestroy",value:function(){Vt(this.options.beforeDestroy)&&this.options.beforeDestroy()}},{key:"onStartInteract",value:function(){this.options.pauseOnInteract&&this.killSelfDestructTimer(),Vt(this.options.onStartInteract)&&this.options.onStartInteract()}},{key:"onCompleteInteract",value:function(){this.options.pauseOnInteract&&this.startSelfDestructTimer(),Vt(this.options.onCompleteInteract)&&this.options.onCompleteInteract()}}]),t}(),Qt={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={method:"flash",storage:"$flashStorage",createShortcuts:!0,name:"flash-message"},s=Object.assign(a,e),i=new t({data:function(){return{storage:{}}},methods:{flash:function(t,e,a){return new Wt(i,t,e,a)},push:function(e,a){t.set(this.storage,e,a)},destroy:function(e){t.delete(this.storage,e)},destroyAll:function(){t.set(this,"storage",{})}}}),n=s.createShortcuts?{flashInfo:function(t,e){return this[s.method](t,"info",e)},flashError:function(t,e){return this[s.method](t,"error",e)},flashWarning:function(t,e){return this[s.method](t,"warning",e)},flashSuccess:function(t,e){return this[s.method](t,"success",e)}}:{};t.mixin({methods:Object(f["a"])(Object(Ut["a"])({},s.method,(function(t,e,a){return arguments.length>0?new Wt(i,t,e,a,s.messageOptions):i})),n)}),t.prototype[s.storage]=i,t.component(s.name,qt(s,i))}};a("f9e3"),a("5aea"),a("15f5"),a("7051");s["default"].use(p["a"]);var Jt=new p["a"].Store({state:{user:{},coaches:[],tournaments:[],bb2Names:[],initial_load:!1},mutations:{storeTournaments:function(t,e){t.tournaments=e},storeCoaches:function(t,e){t.coaches=e},storeUser:function(t,e){t.user=e},storeBBNames:function(t,e){t.bb2Names=e},initially_loaded:function(t){t.initial_load=!0},updateTournament:function(t,e){var a=t.tournaments.findIndex((function(t){return t.id===parseInt(e.id,10)}));s["default"].set(t.tournaments,a,e)}},actions:{getCoaches:function(t){var e=t.commit,a="/coaches";return s["default"].axios.get(a).then((function(t){for(var a=t.data,s=0,i=a.length;s<i;s+=1)a[s].cards=[],a[s].tournaments=[],a[s].account={},a[s].account.transactions=[];e("storeCoaches",a)}))},getTournaments:function(t){var e=t.commit,a="/tournaments";return s["default"].axios.get(a).then((function(t){e("storeTournaments",t.data)}))},getBBNames:function(t){var e=t.commit,a="/bb2_names";return s["default"].axios.get(a).then((function(t){e("storeBBNames",t.data)}))},getMe:function(t){var e=t.commit,a="/me";return s["default"].axios.get(a).then((function(t){e("storeUser",t.data.user)}))}},modules:{},getters:{loggedCoach:function(t){if(t.user.id&&t.user.coach&&t.user.coach.id)return t.user.coach},is_webadmin:function(t,e){return!(!e.loggedCoach||!e.loggedCoach.web_admin)},is_loggedcoach:function(t,e){return function(t){return void 0!==e.loggedCoach&&(e.loggedCoach.bb2_name===t||e.loggedCoach.short_name===t)}},is_owner:function(t,e){return function(t){return e.loggedCoach&&t&&e.loggedCoach.id===t.id}},is_duster:function(t,e){return e.loggedCoach.duster&&e.loggedCoach.duster.type},is_duster_full:function(t,e){return!!e.is_duster&&10===e.loggedCoach.duster.cards.length},is_duster_open:function(t,e){return e.is_duster&&"OPEN"===e.loggedCoach.duster.status},duster_type:function(t,e){return e.is_duster?e.loggedCoach.duster.type:"No dusting in progress"}}});a("2dd8");s["default"].use(c.a,n.a),s["default"].use(o["a"]),s["default"].use(Qt),s["default"].prototype.$=d.a,s["default"].config.productionTip=!1,s["default"].mixin({data:function(){return{markdown:new _.a.Converter}}}),new s["default"]({store:Jt,render:function(t){return t(Ft)}}).$mount("#app")},"5aea":function(t,e,a){},"6f90":function(t,e,a){"use strict";var s=a("3164"),i=a.n(s);i.a}});
//# sourceMappingURL=app.369a4141.js.map